"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[568],{8246:function(e,n,t){t(33472);n.Z="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDYiIGhlaWdodD0iNDYiIHZpZXdCb3g9IjAgMCA0NiA0NiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIzIDAuNUMxMC41NzM2IDAuNSAwLjUgMTAuNTczNiAwLjUgMjNDMC41IDM1LjQyNjQgMTAuNTczNiA0NS41IDIzIDQ1LjVDMzUuNDI2NCA0NS41IDQ1LjUgMzUuNDI2NCA0NS41IDIzQzQ1LjUgMTAuNTczNiAzNS40MjY0IDAuNSAyMyAwLjVaIiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfNDY0MV8yNzc1NykiLz4KPHBhdGggZD0iTTIzIDAuNUMxMC41NzM2IDAuNSAwLjUgMTAuNTczNiAwLjUgMjNDMC41IDM1LjQyNjQgMTAuNTczNiA0NS41IDIzIDQ1LjVDMzUuNDI2NCA0NS41IDQ1LjUgMzUuNDI2NCA0NS41IDIzQzQ1LjUgMTAuNTczNiAzNS40MjY0IDAuNSAyMyAwLjVaIiBmaWxsPSIjMTcxMjJCIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzAuOTkzIDIzLjQ3OTlDMzAuOTkzNSAyMy40NjcgMzAuOTkzOSAyMy40NTQxIDMwLjk5NDYgMjMuNDQxM0MzMC45OTY0IDIzLjQwNjggMzAuOTk4MyAyMy4zNzI0IDMxLjAwMDIgMjMuMzM3OUMzMS4wMDY2IDIzLjIyNTkgMzEuMDEzMSAyMy4xMTM4IDMxLjAxMzEgMjMuMDAwMUMzMS4wMTMxIDIyLjk0NTIgMzEuMDExNCAyMi44OTA2IDMxLjAwOTggMjIuODM2QzMxLjAwOTEgMjIuODE2MSAzMS4wMDg2IDIyLjc5NjIgMzEuMDA4IDIyLjc3NjJDMzEuMDA3OCAyMi43Njk1IDMxLjAwNzcgMjIuNzYyOCAzMS4wMDc1IDIyLjc1NjFDMzEuMDA3MiAyMi43NDI4IDMxLjAwNjkgMjIuNzI5NCAzMS4wMDYzIDIyLjcxNkMzMC45OTQ2IDIyLjY0NDUgMzAuOTUwOCAyMi41ODQgMzAuODg2OSAyMi41NTU4QzMwLjg4MjcgMjIuNTUzOSAzMC44NzgxIDIyLjU1MzEgMzAuODczNCAyMi41NTIyQzMwLjg3MDIgMjIuNTUxNyAzMC44NjcxIDIyLjU1MSAzMC44NjM5IDIyLjU1MDFDMzAuNjE4MSAyMi40OTIxIDMwLjM3MDMgMjIuNDI0NiAzMC4xMjA2IDIyLjM0MTJMMzAuMDEyOSAyMi4zMDQ1QzI3LjY3NzQgMjEuNDg4IDI1LjQzOTcgMjEuODY1NiAyNC40MDQ4IDIyLjEyNzVDMjQuMzQ0IDIyLjE0MjYgMjQuMjg3NCAyMi4xNTc1IDI0LjIzNTIgMjIuMTcyQzI0LjIzMjQgMjIuMTcyMSAyNC4yMjk3IDIyLjE3MjUgMjQuMjI3IDIyLjE3MjlDMjQuMjIzOCAyMi4xNzM0IDI0LjIyMDYgMjIuMTczOSAyNC4yMTczIDIyLjE3MzlDMjQuMDE0IDIyLjE3MzkgMjMuODQ0MiAyMi4wMjggMjMuODA1NSAyMS44MzQ1VjIxLjY2NTFWMTkuOTAzNFYxOS43MzQxQzIzLjgzMDcgMTkuNjA2NyAyMy45MTM5IDE5LjUwMTggMjQuMDI1NSAxOS40NDM2QzI0LjA1MyAxOS40MzIzIDI0LjA4MTMgMTkuNDIxMyAyNC4xMTQ2IDE5LjQwODhDMjQuODA4NyAxOS4xNTMzIDI2LjY5MDQgMTguNjkwMyAyOS44NjI2IDE5LjUwNTJDMjkuODY4NiAxOS41MDggMjkuODc1IDE5LjUwOTIgMjkuODgxMyAxOS41MTAzQzI5Ljg4NTEgMTkuNTExMSAyOS44ODkgMTkuNTExOCAyOS44OTI3IDE5LjUxMjhDMjkuODk2NCAxOS41MTM4IDI5LjkwMDEgMTkuNTE0OSAyOS45MDM4IDE5LjUxNkMyOS45MTc5IDE5LjUyMDEgMjkuOTMyIDE5LjUyNDEgMjkuOTQ3MyAxOS41MjQxQzMwLjA2MzYgMTkuNTI0MSAzMC4xNTc2IDE5LjQyOTIgMzAuMTU3NiAxOS4zMTIyQzMwLjE1NzYgMTkuMjk3OCAzMC4xNTQgMTkuMjg0OSAzMC4xNTA0IDE5LjI3MkMzMC4xNDkzIDE5LjI2NzkgMzAuMTQ4MiAxOS4yNjM4IDMwLjE0NzEgMTkuMjU5NkMzMC4xNDAyIDE5LjIzMjQgMzAuMTI4NiAxOS4yMDg0IDMwLjExMjcgMTkuMTg2N0MyOC43Mjc3IDE2LjQxOTkgMjUuODg3IDE0LjUyMDggMjIuNjAzOCAxNC41MjA4QzE3Ljk1OTcgMTQuNTIwOCAxNC4xOTQ2IDE4LjMxNyAxNC4xOTQ2IDIzLjAwMDFDMTQuMTk0NiAyNy42ODMyIDE3Ljk1OTcgMzEuNDc5NCAyMi42MDM4IDMxLjQ3OTRDMjUuOTU2MiAzMS40Nzk0IDI4Ljg0NTcgMjkuNDk4OSAzMC4xOTYyIDI2LjYzNzJMMzAuMjAzNCAyNi42MjIxQzMwLjIxODEgMjYuNTkxNiAzMC4yMzI3IDI2LjU2MTIgMzAuMjQ2OSAyNi41MzAzQzMwLjI0NzggMjYuNTI1OCAzMC4yNDkgMjYuNTIxNCAzMC4yNTAxIDI2LjUxNjlDMzAuMjUyMiAyNi41MDkxIDMwLjI1NDIgMjYuNTAxMiAzMC4yNTQyIDI2LjQ5MjRDMzAuMjU0MiAyNi40MDgyIDMwLjIwNDYgMjYuMzM2NyAzMC4xMzQgMjYuMzAyNUMzMC4xMzExIDI2LjMwMTUgMzAuMTI4IDI2LjMwMDcgMzAuMTI1IDI2LjI5OTdMMzAuMTIwNiAyNi4yOTgyTDMwLjEwNDYgMjYuMjkyOUwzMC4wMTI5IDI2LjI2MTVDMjcuNjA3MyAyNS40MjAzIDI1LjMwNDMgMjUuODQ2MyAyNC4zMTM5IDI2LjEwNzdDMjQuMzEwMyAyNi4xMDg1IDI0LjMwNzEgMjYuMTA5NCAyNC4zMDM2IDI2LjExMDRDMjQuMzAzNiAyNi4xMTA0IDI0LjMwMDUgMjYuMTExMyAyNC4yOTg4IDI2LjExMTdDMjQuMjcyNyAyNi4xMTcxIDI0LjI0NTMgMjYuMTIwMiAyNC4yMTczIDI2LjEyMDJDMjQuMDE0IDI2LjEyMDIgMjMuODQ0MiAyNS45NzQzIDIzLjgwNTUgMjUuNzgwOFYyNS42MTE0VjIzLjg2NDFWMjMuNjk0NUMyMy44MzI3IDIzLjU1ODMgMjMuOTI1MiAyMy40NDY0IDI0LjA0ODUgMjMuMzkxNUMyNC4wNTE0IDIzLjM5MDEgMjQuMDU0NiAyMy4zODkgMjQuMDU3OSAyMy4zODc5QzI0LjA2MDIgMjMuMzg3MSAyNC4wNjI1IDIzLjM4NjMgMjQuMDY0OCAyMy4zODUzQzI0LjcyMjYgMjMuMTMxMiAyNi42NjIxIDIyLjYwNjkgMzAuMDEyOSAyMy40OTk1QzMwLjI1IDIzLjU2MjggMzAuNDc3MyAyMy42MTY1IDMwLjcwMDUgMjMuNjY2QzMwLjczMzMgMjMuNjczNCAzMC43NjYxIDIzLjY4MDcgMzAuNzk4NiAyMy42ODc1QzMwLjg5MjMgMjMuNjg0MyAzMC45NjcgMjMuNjE5MyAzMC45OTA5IDIzLjUzMTVDMzAuOTkxOCAyMy41MTQ1IDMwLjk5MjUgMjMuNDk3MiAzMC45OTMgMjMuNDc5OVpNMzUuNjk4MSAxOS43NDMyQzM1LjcyNTEgMTkuNzM3OCAzNS43NTI4IDE5LjczNSAzNS43ODA4IDE5LjczNUMzNi4wMTA3IDE5LjczNSAzNi4xOTY4IDE5LjkyMDEgMzYuMjAxOSAyMC4xNTAyVjIwLjE3MDNWMjEuOTYxMVYyMi4wMzc3QzM2LjE4ODEgMjIuMTg5NSAzNi4wOTY3IDIyLjMxNzggMzUuOTY2NyAyMi4zODEzQzM1LjkyNzQgMjIuMzkzMiAzNS44ODQyIDIyLjQwNiAzNS44MzU4IDIyLjQxOThDMzUuNDY1OCAyMi41MjQ5IDM0LjgzNDcgMjIuNjczOSAzNC4wNDQzIDIyLjc1MDhMMzMuOTY2MSAyMi43NTc2QzMzLjg4MzQgMjIuNzgxMyAzMy44MjI5IDIyLjg1MjIgMzMuODE1NiAyMi45NDFDMzMuODE1NiAyMi45NDcxIDMzLjgxNTYgMjIuOTUzIDMzLjgxNTcgMjIuOTU5QzMzLjgxNTggMjIuOTY0OSAzMy44MTU5IDIyLjk3MDkgMzMuODE1OSAyMi45NzY5QzMzLjgxNTkgMjIuOTgwOSAzMy44MTU5IDIyLjk4NDggMzMuODE2IDIyLjk4ODdDMzMuODE2MSAyMi45OTI1IDMzLjgxNjEgMjIuOTk2MyAzMy44MTYxIDIzLjAwMDFDMzMuODE2MSAyMy4yNTc1IDMzLjgwNSAyMy41MTE5IDMzLjc4ODQgMjMuNzY0OUMzMy43ODgzIDIzLjc2NzIgMzMuNzg4MiAyMy43Njk1IDMzLjc4OCAyMy43NzE4QzMzLjc4NzggMjMuNzc1OCAzMy43ODc0IDIzLjc3OTYgMzMuNzg3MyAyMy43ODM2QzMzLjc5MDcgMjMuODkxOCAzMy44NzM2IDIzLjk3NzIgMzMuOTc5NSAyMy45ODZMMzMuOTgyNSAyMy45ODU4QzMzLjk5NTUgMjMuOTg1MyAzNC4wMDkxIDIzLjk4NDcgMzQuMDIyMiAyMy45ODM5QzM0LjczMzkgMjMuOTQ0MSAzNS4yNjY1IDIzLjgzMDIgMzUuNjI2NiAyMy43MjIyQzM1LjY1MjIgMjMuNzE0NiAzNS42NzkgMjMuNzA2NyAzNS43MDI2IDIzLjY5OTRDMzUuNzI5IDIzLjY5NDUgMzUuNzU1OCAyMy42OTExIDM1Ljc4MzkgMjMuNjkxMUMzNS45OTM4IDIzLjY5MTEgMzYuMTY3IDIzLjg0NDkgMzYuMjAxOSAyNC4wNDY0VjI0LjE5NDJWMjUuOTI4NVYyNS45ODAzQzM2LjE5MjMgMjYuMTQxNiAzNi4wOTQ0IDI2LjI3ODQgMzUuOTU1NyAyNi4zNDE4TDM1Ljk0MzcgMjYuMzQ1NEMzNS45MTM5IDI2LjM1NDIgMzUuODgyNiAyNi4zNjM1IDM1Ljg0NzggMjYuMzczNEMzNS4zNzcyIDI2LjUwOCAzNC40Njg0IDI2LjcxNzcgMzMuMzM5MSAyNi43NTFDMzMuMzM0MSAyNi43NTEyIDMzLjMyOTEgMjYuNzUxNCAzMy4zMjQyIDI2Ljc1MTdDMzMuMzE5NSAyNi43NTE4IDMzLjMxNDggMjYuNzUyMSAzMy4zMTAyIDI2Ljc1MjJDMzMuMjM2NCAyNi43NTg0IDMzLjE3NTEgMjYuODAxNyAzMy4xNDI2IDI2Ljg2NDFDMzMuMTM2NiAyNi44NzU4IDMzLjEzMjcgMjYuODg4IDMzLjEyODggMjYuOTAwN0wzMy4xMjgyIDI2LjkwMjNDMzEuNTUyMSAzMS4yMjMgMjcuNDM2IDM0LjMwNTkgMjIuNjAzOCAzNC4zMDU5QzE2LjEzOTkgMzQuMzA1OSAxMC45NTM0IDI4Ljc5MDMgMTEuNDIwOSAyMi4xNzJDMTEuODE0NyAxNi41OTU0IDE2LjI5NzIgMTIuMDk1NCAyMS44MjkzIDExLjcyMDZDMjcuMjgyNCAxMS4zNTEyIDMxLjk3IDE0LjkxNyAzMy4zODE0IDE5Ljg3OTFDMzMuMzg0NSAxOS44OTQxIDMzLjM4NzMgMTkuOTA4OCAzMy4zOTM3IDE5LjkyMjNDMzMuNDI1NCAxOS45ODg1IDMzLjQ4OTMgMjAuMDMzNyAzMy41NjU4IDIwLjA0MDJDMzMuNTc3MyAyMC4wMzk5IDMzLjU4ODUgMjAuMDM5OSAzMy41OTk4IDIwLjAzOTdDMzQuNTE2OSAyMC4wMjk4IDM1LjE4NjggMTkuODk1OCAzNS42MTU3IDE5Ljc2ODlDMzUuNjQ0OSAxOS43NjAxIDM1LjY3MTUgMTkuNzUxNyAzNS42OTgxIDE5Ljc0MzJaIiBmaWxsPSJ3aGl0ZSIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzQ2NDFfMjc3NTciIHgxPSIxIiB5MT0iMSIgeDI9IjQ1LjAwMiIgeTI9IjQ1LjAwMiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSIjNzQyQTMxIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzE3NTE4MCIvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPgo="},87648:function(e,n,t){t.d(n,{Y:function(){return i},b:function(){return r}});var r="https://help.lido.fi/en/articles/7858367-how-do-i-add-the-lido-nft-to-metamask",i="0xbb1263222b2c020f155d409dba05c4a3861f18f8"},39568:function(e,n,t){t.r(n),t.d(n,{__N_SSG:function(){return za},default:function(){return Aa}});var r=t(58308),i=t(38544),a=t.n(i),o=t(14740),s=t(58360),u=t(46252),c=t(33472),l=t(47568),d=t(10092),M=t(23019),h=t(25663),g=t(1124),j=t(47650),m=function(){var e=(0,g.tN)(),n=(0,g.B6)(),t=(0,j.$6)();return{contractWeb3:e,contractRpc:n,account:t.account,chainId:t.chainId}},x=t(82591),f=t(94042),p=t(51173),I=t(57370),w=t(36305),y=t(89257),N=t(36702),v=t(64972),D=t(64267),T=t(10253),z=t(22402),A=t(45043),b=(0,c.createContext)(null);b.displayName="WithdrawalsContext";var S=function(){var e=(0,c.useContext)(b);return(0,x.Z)(e,"useWithdrawals was used outside WithdrawalContext"),e},C=function(e){var n=e.children,t="claim"===e.mode,i=function(){var e=(0,p.e)().chainId,n=m().contractRpc;return(0,z.p)(["swr:wqBaseData",n.address,e],(0,l.Z)((function(){var e,t,r,i,a,o;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:return[4,Promise.all([n.MIN_STETH_WITHDRAWAL_AMOUNT(),n.MAX_STETH_WITHDRAWAL_AMOUNT(),n.isPaused(),n.isBunkerModeActive()])];case 1:return e=T.Z.apply(void 0,[s.sent(),4]),t=e[0],r=e[1],i=e[2],a=e[3],[2,{minAmount:t,maxAmount:r,isPaused:o=!!i,isBunker:!!a,isTurbo:!o&&!a}]}}))})),A.CB)}(),a=i.data,o=i.initialLoading,s=null!==a&&void 0!==a?a:{},u=s.isBunker,M=s.isPaused,h=s.isTurbo,g=s.maxAmount,j=s.minAmount,x=M?"error":u?"warning":h?"success":"error",f=(0,c.useMemo)((function(){return{isClaimTab:t,withdrawalsStatus:x,isWithdrawalsStatusLoading:o,isPaused:M,isTurbo:h,isBunker:u,maxAmount:g,minAmount:j}}),[t,x,o,M,h,u,g,j]);return(0,r.jsx)(b.Provider,{value:f,children:n})},k=t(4200),L=t(61745),E=t(87785),Z=t(90678),O=t(4699),P=function(e){var n=e.amount,t=e.token,r=e.onConfirm,i=(0,p.e)().chainId,a=(0,D.j)(i),o=(0,y.mA)().connector,s=(0,j.$6)().account,u=S().isBunker,T=(0,I.pX)(),z=T.dispatchModalState,A=T.dispatchAsyncDialog,b=function(){var e=(0,p.e)().providerWeb3,n=(0,E.k)().staticRpcProvider,t=m(),r=t.account,i=t.chainId,a=t.contractWeb3,o=(0,I.pX)().dispatchModalState,s=(0,c.useCallback)(function(){var e=(0,l.Z)((function(e){var t,s,u,c,M,g,j,m,f,p,y,N;return(0,d.__generator)(this,(function(v){switch(v.label){case 0:return t=e.signature,s=e.requests,(0,x.Z)(i,"must have chainId"),(0,x.Z)(r,"must have account"),(0,x.Z)(t,"must have signature"),(0,x.Z)(a,"must have contractWeb3"),o({type:"signing",operation:I.jL.CONTRACT}),M=[s,t.owner,{value:t.value,deadline:t.deadline,v:t.v,r:t.r,s:t.s}],[4,(0,O.I)(n)];case 1:return g=v.sent(),j=g.maxFeePerGas,m=g.maxPriorityFeePerGas,[4,(u=a.estimateGas).requestWithdrawalsWithPermit.apply(u,(0,w.Z)(M).concat([{maxFeePerGas:j,maxPriorityFeePerGas:m}]))];case 2:return f=v.sent(),p={maxFeePerGas:j,maxPriorityFeePerGas:m,gasLimit:f},y=function(){return(c=a).requestWithdrawalsWithPermit.apply(c,(0,w.Z)(M).concat([p]))},[4,(0,h.J6)("Request signing",y)];case 3:return N=v.sent(),o({type:"block",txHash:N.hash}),[4,(0,h.J6)("Request block confirmation",(0,l.Z)((function(){return(0,d.__generator)(this,(function(e){return[2,N.wait()]}))})))];case 4:return v.sent(),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[r,i,a,o,n]),u=(0,c.useCallback)(function(){var e=(0,l.Z)((function(e){var t,s,u,c,M,g,j,m,f,p,y,N,v,D;return(0,d.__generator)(this,(function(T){switch(T.label){case 0:return t=e.signature,s=e.requests,(0,x.Z)(i,"must have chainId"),(0,x.Z)(r,"must have account"),(0,x.Z)(t,"must have signature"),(0,x.Z)(a,"must have contractWeb3"),M=[s,t.owner,{value:t.value,deadline:t.deadline,v:t.v,r:t.r,s:t.s}],[4,(0,O.I)(n)];case 1:return g=T.sent(),m=null!==(j=g.maxFeePerGas)&&void 0!==j?j:void 0,p=null!==(f=g.maxPriorityFeePerGas)&&void 0!==f?f:void 0,[4,(u=a.estimateGas).requestWithdrawalsWstETHWithPermit.apply(u,(0,w.Z)(M).concat([{maxFeePerGas:m,maxPriorityFeePerGas:p}]))];case 2:return y=T.sent(),N={maxFeePerGas:m,maxPriorityFeePerGas:p,gasLimit:y},v=function(){return(c=a).requestWithdrawalsWstETHWithPermit.apply(c,(0,w.Z)(M).concat([N]))},o({type:"signing",operation:I.jL.CONTRACT}),[4,(0,h.J6)("Request signing",v)];case 3:return D=T.sent(),o({type:"block",txHash:D.hash}),[4,(0,h.J6)("Stake block confirmation",(0,l.Z)((function(){return(0,d.__generator)(this,(function(e){return[2,D.wait()]}))})))];case 4:return T.sent(),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[r,i,a,o,n]),M=(0,c.useCallback)(function(){var t=(0,l.Z)((function(t){var s,u,c,M,g,j;return(0,d.__generator)(this,(function(m){switch(m.label){case 0:return s=t.requests,(0,x.Z)(i,"must have chainId"),(0,x.Z)(r,"must have account"),(0,x.Z)(a,"must have contractWeb3"),(0,x.Z)(e,"must have providerWeb3"),o({type:"signing",operation:I.jL.CONTRACT}),[4,(0,f.T)(r,a.provider)];case 1:return u=m.sent(),c=[s,r],M=function(){var t=(0,l.Z)((function(){var t,r,i,o,s,l,M,h;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:return u?[4,(t=a.populateTransaction).requestWithdrawals.apply(t,(0,w.Z)(c))]:[3,2];case 1:return r=d.sent(),[2,null===e||void 0===e?void 0:e.getSigner().sendUncheckedTransaction(r)];case 2:return[4,(0,O.I)(n)];case 3:return s=d.sent(),l=s.maxFeePerGas,M=s.maxPriorityFeePerGas,[4,(i=a.estimateGas).requestWithdrawals.apply(i,(0,w.Z)(c).concat([{maxFeePerGas:l,maxPriorityFeePerGas:M}]))];case 4:return h=d.sent(),[2,(o=a).requestWithdrawals.apply(o,(0,w.Z)(c).concat([{maxFeePerGas:l,maxPriorityFeePerGas:M,gasLimit:h}]))];case 5:return[2]}}))}));return function(){return t.apply(this,arguments)}}(),[4,(0,h.J6)("Request signing",M)];case 2:return g=m.sent(),j="string"!==typeof g,u||!j?[3,4]:(o({type:"block",txHash:g.hash}),[4,(0,h.J6)("Request block confirmation",(0,l.Z)((function(){return(0,d.__generator)(this,(function(e){return[2,g.wait()]}))})))]);case 3:m.sent(),m.label=4;case 4:return[2]}}))}));return function(e){return t.apply(this,arguments)}}(),[r,i,a,o,n,e]),g=(0,c.useCallback)(function(){var t=(0,l.Z)((function(t){var s,u,c,M,g,j;return(0,d.__generator)(this,(function(m){switch(m.label){case 0:return s=t.requests,(0,x.Z)(i,"must have chainId"),(0,x.Z)(r,"must have account"),(0,x.Z)(a,"must have contractWeb3"),(0,x.Z)(e,"must have providerWeb3"),[4,(0,f.T)(r,a.provider)];case 1:return u=m.sent(),o({type:"signing",operation:I.jL.CONTRACT}),c=[s,r],M=function(){var t=(0,l.Z)((function(){var t,i,o,l,M,h,g;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:return u?[4,a.populateTransaction.requestWithdrawalsWstETH(s,r)]:[3,2];case 1:return t=d.sent(),[2,null===e||void 0===e?void 0:e.getSigner().sendUncheckedTransaction(t)];case 2:return[4,(0,O.I)(n)];case 3:return l=d.sent(),M=l.maxFeePerGas,h=l.maxPriorityFeePerGas,[4,(i=a.estimateGas).requestWithdrawalsWstETH.apply(i,(0,w.Z)(c).concat([{maxFeePerGas:M,maxPriorityFeePerGas:h}]))];case 4:return g=d.sent(),[2,(o=a).requestWithdrawalsWstETH.apply(o,(0,w.Z)(c).concat([{maxFeePerGas:M,maxPriorityFeePerGas:h,gasLimit:g}]))];case 5:return[2]}}))}));return function(){return t.apply(this,arguments)}}(),[4,(0,h.J6)("Request signing",M)];case 2:return g=m.sent(),j="string"!==typeof g,u||!j?[3,4]:(o({type:"block",txHash:g.hash}),[4,(0,h.J6)("Request block confirmation",(0,l.Z)((function(){return(0,d.__generator)(this,(function(e){return[2,g.wait()]}))})))]);case 3:m.sent(),m.label=4;case 4:return[2]}}))}));return function(e){return t.apply(this,arguments)}}(),[r,i,a,o,n,e]);return(0,c.useCallback)((function(e,n){return n==v.eT.STETH?e?M:s:e?g:u}),[s,u,M,g])}(),C=(0,L.J)(),P=C.isMultisig,U=C.isLoading,Y=(0,g.Z3)(),Q=(0,g.LC)(),q=t===v.eT.STETH?Q:Y,R=null!==n&&void 0!==n?n:N._Y,H=(0,Z.y)(R,q.address,a,null!==s&&void 0!==s?s:void 0),W=H.approve,F=H.needsApprove,G=H.allowance,B=H.loading,V=(0,k.yk)({tokenProvider:q,spender:a}).gatherPermitSignature,_="walletConnect"===(null===o||void 0===o?void 0:o.id)||P||G.gt(M.O$.from(0))&&!F,J=U||_&&B,X=_&&F,$=(0,c.useCallback)(function(){var e=(0,l.Z)((function(e,n,t){var i,a,o,s,c;return(0,d.__generator)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,15,,16]),(0,x.Z)(e&&$.length>0,"cannot submit empty requests"),(0,x.Z)(n,"cannot submit empty amount"),u?[4,A("bunker")]:[3,2];case 1:if(i=l.sent(),!i.ok)return[2,{success:!1}];l.label=2;case 2:return a=b(_,t),z({type:"start",operation:_?F?I.jL.APPROVE:I.jL.CONTRACT:I.jL.PERMIT,amount:n,token:t}),_?F?[4,W({onTxSent:function(e){P||z({type:"block",txHash:"string"===typeof e?e:e.hash,operation:I.jL.APPROVE})}})]:[3,6]:[3,9];case 3:return l.sent(),P?[3,5]:[4,a({requests:e})];case 4:l.sent(),l.label=5;case 5:return[3,8];case 6:return[4,a({requests:e})];case 7:l.sent(),l.label=8;case 8:return[3,12];case 9:return[4,V(n)];case 10:return o=l.sent(),[4,a({signature:o,requests:e})];case 11:l.sent(),l.label=12;case 12:return P?[3,14]:[4,null===r||void 0===r?void 0:r()];case 13:l.sent(),l.label=14;case 14:return z({type:P?"success_multisig":"success"}),[2,{success:!0}];case 15:return s=l.sent(),c=(0,h.e$)(s),z({type:"error",errorText:c}),[2,{success:!1,error:s}];case 16:return[2]}}))}));return function(n,t,r){return e.apply(this,arguments)}}(),[W,A,z,V,b,_,u,P,F,r]);return{isTokenLocked:X,isApprovalFlow:_,allowance:G,isApprovalFlowLoading:J,request:$}},U=t(26042),Y=t(69396),Q=t(23599),q=t(51105),R=t(93655),H=function(e){var n=e.isSteth,t=e.input,r=t&&!isNaN(Number(t))&&function(e){try{(0,R.parseEther)(e)}catch(n){return!1}return!0}(t),i=(0,c.useMemo)((function(){return r?(0,R.parseEther)(t):M.O$.from(0)}),[t,r]),a=(0,k.$u)(n?void 0:i);if(r)return n?i:a},W=t(51438),F=t(28668),G=t(91224),B=t(56769),V=t(84151),_=t(99389),J=t(63373),X=t(86839),$=function(e){(0,F.Z)(t,e);var n=(0,G.Z)(t);function t(e,r,i){var a;return(0,W.Z)(this,t),(a=n.call(this,e,r,t.type)).payload=i,a}return t}(B.p8);$.type="validate_tvl_joke";var K=function(e){(0,F.Z)(t,e);var n=(0,G.Z)(t);function t(e,r,i){var a;return(0,W.Z)(this,t),(a=n.call(this,e,r,t.type)).payload=i,a}return t}(B.p8);K.type="validation_request_split";var ee=function(e,n,t,r,i){var a=t.mul(i),o=n.mod(t),s=o.gt(0)?1:0,u=n.div(t).toNumber()+s;if(n.gt(a))throw new K(e,"You can send a maximum of ".concat(i," requests per transaction. Current requests count is ").concat(u,"."),{requestCount:u});if(s&&o.lt(r)){var c=r.sub(o);throw new K(e,"Cannot split into valid requests as last request would be less than minimal withdrawal amount. Add ".concat((0,R.formatEther)(c)," to withdrawal amount."),{requestCount:u})}var l=Array.from({length:u}).fill(t);return s&&(l[u-1]=o),l},ne=function(e,n,t,r){var i=n.sub(t);if(i.gt(0))throw new $(e,"amount bigger than tvl",{balanceDiffSteth:n.sub(r),tvlDiff:i})},te=function(){var e=(0,l.Z)((function(e,n){var t,r,i,a,o,s,u,c,l,M,h,g,j,m,f;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:t=e.amount,r=e.mode,i=e.token,a={requests:null},d.label=1;case 1:return d.trys.push([1,3,4,5]),(0,x.Z)(n,"must have context promise"),o=n.setIntermediateValidationResults,(0,J.m)("amount",t,i),n.active?[4,(0,_.H)(n.asyncContext,Q.G3)]:[2,{values:e,errors:{}}];case 2:return s=d.sent(),u=function(e,n){var t=n.token===v.eT.STETH;return{isSteth:t,balance:t?e.balanceSteth:e.balanceWSteth,minAmountPerRequest:t?e.minUnstakeSteth:e.minUnstakeWSteth,maxAmountPerRequest:t?e.maxAmountPerRequestSteth:e.maxAmountPerRequestWSteth,maxRequestCount:e.maxRequestCount,stethTotalSupply:e.stethTotalSupply}}(s,e),c=u.isSteth,l=u.balance,M=u.maxAmountPerRequest,h=u.minAmountPerRequest,g=u.maxRequestCount,j=u.stethTotalSupply,c&&ne("amount",t,j,l),"dex"===r?[2,{values:e,errors:{requests:"wallet not connected"}}]:(function(e,n,t,r){if(n.lt(t))throw new B.p8(e,r)}("amount",t,h,function(e,n){return"Minimum withdraw amount is ".concat((0,R.formatEther)(e)," ").concat((0,V.T)(n))}(h,i)),m=ee("amount",t,M,h,g),a.requests=m,(0,X.k)("amount",t,l,function(e,n){return"".concat((0,V.T)(n)," amount must not be greater than ").concat((0,R.formatEther)(e))}(l,i)),[2,{values:(0,Y.Z)((0,U.Z)({},e),{requests:m}),errors:{}}]);case 3:return f=d.sent(),[2,(0,B.qZ)(f,"WithdrawalRequestForm","requests")];case 4:return null===o||void 0===o||o(a),[7];case 5:return[2]}}))}));return function(n,t){return e.apply(this,arguments)}}(),re=[function(e){return"That's about ".concat(e," more than we've got, would suggest you stake more first!")},function(){return"Didn't realize you're a \ud83d\udc0b, did you leave your stETH in your other wallet? No worries, just stake some more!"},function(){return'Hey Justin Sun, the "stake" button is this way ^'}],ie=function(e){var n=(0,c.useMemo)((function(){return re[Math.floor(Math.random()*re.length)]}),[]),t=e&&"object"===typeof e&&"type"in e&&e.type==$.type&&"payload"in e?e.payload:{balanceDiffSteth:void 0,tvlDiff:void 0},r=t.balanceDiffSteth,i=t.tvlDiff;return{balanceDiff:r,tvlMessage:(0,c.useMemo)((function(){return i?n((0,h.Gr)(Number((0,R.formatEther)(i)))):void 0}),[i,n])}},ae=t(82670),oe=t(78340),se=t(5853),ue=t(43741),ce=t(59145),le=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.isApproximate,i=(0,k.cF)(e,1e3),a=(0,c.useMemo)((function(){var e=oe.Gm.wqAPIBasePath,n=(0,se.f)({amount:i}),t=n?"?".concat(n):"";return"".concat(e,"/v1/request-time").concat(t)}),[i]),o=(0,z.p)(a,ue.x,(0,Y.Z)((0,U.Z)({},A.xj),{shouldRetryOnError:function(e){return!(e&&"object"==typeof e&&"status"in e&&400==e.status)}})),s=o.data,u=o.initialLoading,l=o.error,d=S(),M=d.isBunker,h=d.isPaused,g=(0,ae.Z)(l,ce.T)&&l.status<500,j=(null===s||void 0===s?void 0:s.stethLastUpdate)&&new Date(1e3*(null===s||void 0===s?void 0:s.stethLastUpdate)),m=null!==(n=null===s||void 0===s?void 0:s.days)&&void 0!==n?n:5,x=m&&m>1?"".concat(r?"~ ":"","1-").concat(m," day(s)"):"".concat(r?"~ ":"").concat(m," day"),f=h||g?"\u2014":M?"Not estimated":x;return(0,Y.Z)((0,U.Z)({},s),{initialLoading:u,error:l,stethLastUpdate:j,days:m,value:f})},de=(0,c.createContext)(null);de.displayName="ClaimDataContext";var Me=function(e){var n=e.children,t=function(){var e=m(),n=e.contractRpc,t=e.account,r=e.chainId,i=(0,z.p)(["swr:withdrawals-requests",t,r],(0,l.Z)((function(){var e,t,r,i,a,o,s,u,c,l,h,g,j,m,x,f,p,I,w=arguments;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:for(e=w.length,t=new Array(e),r=0;r<e;r++)t[r]=w[r];return i=t[1],[4,Promise.all([n.getWithdrawalRequests(i),n.getLastCheckpointIndex()])];case 1:return a=T.Z.apply(void 0,[d.sent(),2]),o=a[0],s=a[1],[4,n.getWithdrawalStatus(o)];case 2:return u=d.sent(),c=[],l=[],h=M.O$.from(0),g=M.O$.from(0),u.forEach((function(e,n){var t=o[n],r=(0,Y.Z)((0,U.Z)({},e),{id:t,stringId:t.toString()});return e.isFinalized&&!e.isClaimed?(c.push(r),g=g.add(e.amountOfStETH)):e.isFinalized||(l.push((0,Y.Z)((0,U.Z)({},r),{expectedEth:r.amountOfStETH})),h=h.add(e.amountOfStETH)),r})),(j=c.splice(Q.UZ).length>0)||(j=l.splice(Q.UZ).length>0),m=c.sort((function(e,n){return e.id.gt(n.id)?1:-1})),[4,n.findCheckpointHints(m.map((function(e){return e.id})),1,s)];case 3:return x=d.sent(),[4,n.getClaimableEther(m.map((function(e){return e.id})),x)];case 4:return f=d.sent(),p=M.O$.from(0),I=m.map((function(e,n){return p=p.add(f[n]),(0,Y.Z)((0,U.Z)({},e),{hint:x[n],claimableEth:f[n]})})),[2,{pendingRequests:l,sortedClaimableRequests:I,pendingCount:l.length,readyCount:I.length,claimedCount:c.length,pendingAmountOfStETH:h,claimableAmountOfStETH:g,claimableAmountOfETH:p,isClamped:j}]}}))})),A.wd),a=i.data,o=i.mutate,s=(0,c.useCallback)(function(){var e=(0,l.Z)((function(e){var n,t,r,i;return(0,d.__generator)(this,(function(s){return a?(n=e.reduce((function(e,n){return{steth:e.steth.add(n.amountOfStETH),eth:e.eth.add(n.claimableEth)}}),{steth:N._Y,eth:N._Y}),t=n.steth,r=n.eth,i=(0,Y.Z)((0,U.Z)({},a),{sortedClaimableRequests:a.sortedClaimableRequests.filter((function(n){return e.includes(n)})),readyCount:a.readyCount-e.length,claimedCount:a.claimedCount+e.length,claimableAmountOfStETH:a.claimableAmountOfStETH.sub(t),claimableAmountOfETH:a.claimableAmountOfETH.sub(r)}),[2,o(i,!0)]):[2,void 0]}))}));return function(n){return e.apply(this,arguments)}}(),[a,o]),u=(0,c.useCallback)((function(){return o(a,!0)}),[a,o]);return(0,Y.Z)((0,U.Z)({},i),{optimisticClaimRequests:s,revalidate:u})}();return(0,r.jsx)(de.Provider,{value:t,children:n})},he=function(){var e=(0,c.useContext)(de);return(0,x.Z)(e,"useClaimData was used outside of ClaimDataProvider"),e},ge=t(67645),je=t(40973),me=function(){return(0,r.jsx)(je.UQy,{defaultExpanded:!0,summary:"What are withdrawals?",children:(0,r.jsx)("p",{children:"Users can unstake their stETH or wstETH through withdrawals. Upon unstaking stETH, they will receive ETH at a 1:1 ratio. When unstaking wstETH, the unwrapping process will take place seamlessly in the background."})})},xe=t(7297),fe=t(87588);function pe(){var e=(0,xe.Z)(["\n  white-space: nowrap;\n"]);return pe=function(){return e},e}function Ie(){var e=(0,xe.Z)(["\n  margin: ","px auto 0;\n  display: block;\n  width: fit-content;\n"]);return Ie=function(){return e},e}var we=fe.ZP.span.withConfig({componentId:"sc-7e75830c-0"})(pe()),ye=(fe.ZP.a.withConfig({componentId:"sc-7e75830c-1"})(Ie(),(function(e){return e.theme.spaceMap.xxl})),function(){return(0,r.jsxs)(je.UQy,{summary:"How does the withdrawal process work?",children:[(0,r.jsx)("p",{children:"The withdrawal process is simple and has two steps:"}),(0,r.jsxs)("ol",{children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("b",{children:"Request withdrawal"}),": Lock your stETH/wstETH by issuing a withdrawal request. ETH is sourced to fulfill the request, and then locked stETH is burned, which marks the withdrawal request as claimable. Under normal circumstances, this can take anywhere between"," ",(0,r.jsx)(we,{children:"1-5 days"}),"."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("b",{children:"Claim"}),": Claim your ETH after the withdrawal request has been processed."]})]})]})}),Ne=t(89356),ve=function(){return(0,r.jsx)(je.UQy,{summary:"How do I withdraw?",children:(0,r.jsxs)("p",{children:["Press the"," ",(0,r.jsx)(Ne.S,{href:u.Qk,children:"Request tab"}),", choose an amount of stETH/wstETH to withdraw, then press \u2018Request withdrawal\u2019. Confirm the transaction using your wallet and press \u2018Claim\u2019 on the ",(0,r.jsx)(Ne.S,{href:u.Bs,children:"Claim tab"})," ","once it is ready."]})})},De=function(){return(0,r.jsx)(je.UQy,{summary:"Can I transform my stETH to ETH?",children:(0,r.jsxs)("p",{children:["Yes. Stakers can transform their stETH to ETH 1:1 using the"," ",(0,r.jsx)(Ne.S,{href:u.Qk,children:"Request"})," and"," ",(0,r.jsx)(Ne.S,{href:u.Bs,children:"Claim"})," tabs."]})})},Te=function(){return(0,r.jsx)(je.UQy,{summary:"Can I transform my wstETH to ETH?",children:(0,r.jsxs)("p",{children:["Yes. You can transform your wstETH to ETH using the"," ",(0,r.jsx)(Ne.S,{href:u.Qk,children:"Request"})," and"," ",(0,r.jsx)(Ne.S,{href:u.Bs,children:"Claim"})," tabs. Note that, under the hood, wstETH will unwrap to stETH first, so your request will be denominated in stETH."]})})},ze=function(){return(0,r.jsx)(je.UQy,{summary:"When I try to withdraw wstETH, why do I see the stETH amount in my request?",children:(0,r.jsx)("p",{children:"When you request to withdraw wstETH, it is automatically unwrapped into stETH, which then gets transformed into ETH. The main withdrawal period is when stETH is transformed into ETH. That's why you see the amount pending denominated in stETH."})})},Ae=function(){return(0,r.jsx)(je.UQy,{summary:"If I have several requests, can I claim them separately?",children:(0,r.jsxs)("p",{children:["Yes. You can choose the requests you want to claim in the \u2018Request List\u2019 on the ",(0,r.jsx)(Ne.S,{href:u.Bs,children:"Claim tab"}),"."]})})},be=t(40250),Se=function(e){var n=e.onCollapse,t=e.id,i=(0,be.S)(),a=i.hashNav,o=i.resetSpecificAnchor,s=(0,c.useCallback)((function(){o(t),null===n||void 0===n||n()}),[o,t,n]);return(0,r.jsx)(je.UQy,(0,Y.Z)((0,U.Z)({defaultExpanded:a===t},e),{onCollapse:s}))},Ce=function(e){var n=e.title;return(0,r.jsx)(Se,{summary:n,id:"amountDifferentFromRequested",children:(0,r.jsx)("p",{children:"The amount you can claim may differ from your initial request due to a slashing occurrence and penalties. For these reasons, the total claimable reward amount could be reduced."})})},ke=function(){return(0,r.jsxs)(je.UQy,{summary:"What is slashing?",children:[(0,r.jsx)("p",{children:"Slashing is a penalty that affects validators for intentional or accidental misbehavior."}),(0,r.jsx)("p",{children:"Mass slashing event is when slashing penalties are big enough to have the impact on Protocol's rewards in the current frame or in the future, esp. midterm penalties."}),(0,r.jsxs)("p",{children:["Slashing penalties are spread across stakers and may lower your total reward amount. For more information, check out"," ",(0,r.jsx)(je.rUS,{href:"https://help.lido.fi/en/articles/5232780-what-are-staking-validator-penalties","data-matomo":oe.A8.withdrawalWhatAreStakingPenaltiesFAQ,children:"What Are Staking/Validator Penalties"}),"."]})]})},Le=function(){return(0,r.jsx)(je.UQy,{summary:"What is Lido NFT?",children:(0,r.jsx)("p",{children:"Each withdrawal request is represented by an NFT: the NFT is automatically minted for you when you send a request. You will need to add it to your wallet to be able to monitor the request status. When the request is ready for the claim, the NFT will change it's appearance."})})},Ee=t(87648),Ze=function(){return(0,r.jsxs)(je.UQy,{summary:"How do I add the Lido NFT to my wallet?",children:[(0,r.jsx)("p",{children:"Different wallets have specific functionality for adding and working with NFT. Most often, you need to find the specific NFT Address and Token ID. These parameters you can find on Etherscan. Visit Etherscan, add your wallet, and locate the NFT transaction. Once located, open the NFT transaction, and you will see the Address and Token ID."}),(0,r.jsxs)("p",{children:["If you are a MetaMask user, use"," ",(0,r.jsx)(je.rUS,{href:Ee.b,"data-matomo":oe.A8.withdrawalNFTGuideFAQ,children:"this guide"}),"."]})]})},Oe=function(){return(0,r.jsx)(je.UQy,{summary:"What could be the reason why my NFT's view did not update even though my request was ready to be claimed?",children:(0,r.jsx)("p",{children:"Maybe your wallet doesn\u2019t support the automatic changing of the NFT view. To renew the NFT, you can import the Address and Token ID of your NFT, and it could change it's appearance to a new \u201cReady to claim\u201d one."})})},Pe=function(){var e=(0,k.gn)();return(0,r.jsxs)(o.$0,{title:"FAQ",onClick:e,children:[(0,r.jsx)(me,{}),(0,r.jsx)(ye,{}),(0,r.jsx)(ve,{}),(0,r.jsx)(De,{}),(0,r.jsx)(Te,{}),(0,r.jsx)(ze,{}),(0,r.jsx)(Ae,{}),(0,r.jsx)(Ce,{title:"Why is the claimable amount different from my requested amount?"}),(0,r.jsx)(ke,{}),(0,r.jsx)(Le,{}),(0,r.jsx)(Ze,{}),(0,r.jsx)(Oe,{})]})},Ue=t(86307);function Ye(){var e=(0,xe.Z)(["\n  min-height: 137px;\n  background: linear-gradient(\n    52.01deg,\n    #37394a 0%,\n    #363749 0.01%,\n    #40504f 100%\n  );\n"]);return Ye=function(){return e},e}var Qe=(0,fe.ZP)(Ue.Zb).withConfig({componentId:"sc-87bf1893-0"})(Ye());function qe(){var e=(0,xe.Z)(["\n  margin-bottom: ","px;\n"]);return qe=function(){return e},e}var Re,He,We=(0,fe.ZP)(o.vD).withConfig({componentId:"sc-fc0e8d01-0"})(qe(),(function(e){return e.theme.spaceMap.md})),Fe=t(14924);function Ge(){var e=(0,xe.Z)(["\n  0% {  \n    transform: scale(0.95);\n    box-shadow: 0 0 0 0 rgba(",", 0.7);\n  }\n  70% {  \n    transform: scale(1);\n    box-shadow: 0 0 0 6px rgba(",", 0);\n  }\n  100% {\n    transform: scale(0.95);\n    box-shadow: 0 0 0 0 rgba(",", 0);\n  }\n"]);return Ge=function(){return e},e}function Be(){var e=(0,xe.Z)(["\n  border-radius: 50%;\n  margin-right: ","px;\n  height: 8px;\n  width: 8px;\n  transform: scale(1);\n  background: ",";\n  box-shadow: 0 0 0 0 ",";\n  animation-name: ",";\n  animation-duration: 2s;\n  animation-iteration-count: infinite;\n"]);return Be=function(){return e},e}function Ve(){var e=(0,xe.Z)(["\n  display: flex;\n  align-items: center;\n"]);return Ve=function(){return e},e}!function(e){e.success="success",e.warning="warning",e.error="error"}(Re||(Re={}));var _e=(He={},(0,Fe.Z)(He,"success","83, 186, 149"),(0,Fe.Z)(He,"warning","236, 134, 0"),(0,Fe.Z)(He,"error","225, 77, 77"),He),Je=fe.ZP.div.withConfig({componentId:"sc-d2ebfdf-0"})(Be(),(function(e){return e.theme.spaceMap.sm}),(function(e){var n=e.$variant;return"var(--lido-color-".concat(n,")")}),(function(e){var n=e.$variant;return"var(--lido-color-".concat(n,")")}),(function(e){return(0,fe.F4)(Ge(),_e[e.$variant],_e[e.$variant],_e[e.$variant])})),Xe=fe.ZP.div.withConfig({componentId:"sc-d2ebfdf-1"})(Ve()),$e=function(e){var n=e.children,t=e.variant;return(0,r.jsxs)(Xe,{children:[(0,r.jsx)(Je,{$variant:t}),n]})};function Ke(){var e=(0,xe.Z)(["\n  margin-right: 16px;\n\n  svg {\n    margin-right: 8px;\n    line-height: 0;\n    vertical-align: middle;\n    margin-top: -2px;\n    border: 0;\n    padding: 0;\n  }\n\n  &:not(:last-of-type) {\n    padding-right: 16px;\n    border-right: 1px solid rgba(255, 255, 255, 0.3);\n  }\n\n  &:last-of-type {\n    margin-right: 0;\n  }\n"]);return Ke=function(){return e},e}var en=fe.ZP.span.withConfig({componentId:"sc-d5f0278c-0"})(Ke()),nn=function(e){var n=e.children,t=he(),i=t.data,a=t.initialLoading,o=i||{},s=o.readyCount,u=void 0===s?oe.ju:s,c=o.pendingCount,l=void 0===c?oe.ju:c,d=(0,r.jsxs)(r.Fragment,{children:["My requests ",n]}),M=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(en,{children:(0,r.jsx)(je.ua7,{placement:"bottom",title:"Ready to claim",children:(0,r.jsxs)("span",{children:[(0,r.jsx)(je.Rm$,{}),(0,r.jsx)("span",{"data-testid":"rdyToClaimCount",children:u})]})})}),(0,r.jsx)(en,{children:(0,r.jsx)(je.ua7,{placement:"bottom",title:"Pending",children:(0,r.jsxs)("span",{children:[(0,r.jsx)(je.cf,{}),(0,r.jsx)("span",{"data-testid":"pendingCount",children:l})]})})})]});return(0,r.jsx)(Ue.gX,{small:!0,title:d,loading:a,value:M})},tn=function(){return(0,r.jsx)(We,{children:'Lido protocol is in "Bunker mode". The withdrawal requests are slowed down until the consequences of the incident that caused "Bunker mode" are not resolved.'})},rn=t(99534),an=t(87536),on=t(36360);function sn(){var e=(0,xe.Z)(["\n  border-radius: ","px\n    ","px 0 0;\n  border: 1px solid var(--lido-color-foreground);\n  border-bottom: none;\n  overflow: hidden;\n"]);return sn=function(){return e},e}function un(){var e=(0,xe.Z)(["\n  margin: 0 auto;\n  justify-self: center;\n  align-self: center;\n"]);return un=function(){return e},e}function cn(){var e=(0,xe.Z)(["\n  padding: ","px\n    ","px;\n  padding-right: 12px;\n  border-bottom: 1px solid var(--lido-color-foreground);\n  background-color: ",";\n  display: flex;\n  align-items: center;\n  height: ","px;\n  justify-content: space-between;\n  width: 100%;\n  box-sizing: border-box;\n  &:last-child {\n    border-bottom-color: var(--lido-color-backgroundSecondary);\n  }\n\n  ","\n\n  a:visited {\n    color: var(--lido-color-primary);\n  }\n"]);return cn=function(){return e},e}function ln(){var e=(0,xe.Z)(["\n  height: 24px;\n  margin-left: auto;\n  margin-right: 8px;\n  padding: 2px ","px;\n  "," {\n    padding: 4px;\n    min-width: 24px;\n    justify-content: center;\n  }\n  gap: 8px;\n  border-radius: 48px;\n  display: flex;\n  align-items: center;\n\n  background-color: ",";\n\n  ","\n\n  color: ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return ln=function(){return e},e}function dn(){var e=(0,xe.Z)(["\n  font-size: 12px;\n  font-weight: 600;\n  "," {\n    display: none;\n  }\n"]);return dn=function(){return e},e}function Mn(){var e=(0,xe.Z)(["\n  display: none;\n  width: 16px;\n  height: 16px;\n  "," {\n    display: block;\n  }\n"]);return Mn=function(){return e},e}function hn(){var e=(0,xe.Z)(["\n  width: 16px;\n  height: 16px;\n"]);return hn=function(){return e},e}function gn(){var e=(0,xe.Z)(["\n  margin-left: ","px;\n"]);return gn=function(){return e},e}function jn(){var e=(0,xe.Z)(["\n  display: flex;\n  width: 24px;\n  height: 24px;\n\n  background: rgba(0, 163, 255, 0.1);\n  border-radius: 4px;\n\n  &:hover {\n    background: rgba(0, 163, 255, 0.2);\n  }\n"]);return jn=function(){return e},e}function mn(){var e=(0,xe.Z)(["\n  display: flex;\n  height: ","px;\n"]);return mn=function(){return e},e}function xn(){var e=(0,xe.Z)(["\n  height: ","px;\n"]);return xn=function(){return e},e}var fn=fe.ZP.div.withConfig({componentId:"sc-6645383a-0"})(sn(),(function(e){return e.theme.borderRadiusesMap.md}),(function(e){return e.theme.borderRadiusesMap.md})),pn=fe.ZP.span.withConfig({componentId:"sc-6645383a-1"})(un()),In=fe.ZP.div.withConfig({componentId:"sc-6645383a-2"})(cn(),(function(e){return e.theme.spaceMap.md}),(function(e){return e.theme.spaceMap.lg}),(function(e){return e.theme.name===je.IxO.light?"#F2F5F8":"#2A2A31"}),57,(function(e){return e.$loading&&"cursor: progress;"})),wn=fe.ZP.div.withConfig({componentId:"sc-6645383a-3"})(ln(),(function(e){return e.theme.spaceMap.sm}),(function(e){return e.theme.mediaQueries.sm}),(function(e){return"ready"===e.$variant?"rgba(83, 186, 149, 0.16)":"rgba(236, 134, 0, 0.16)"}),(function(e){return"pending"===e.$variant&&"&:hover {\n        background-color: rgba(236, 134, 0, 0.26);\n      }"}),(function(e){return"ready"===e.$variant?"#53BA95":"#EC8600"})),yn=fe.ZP.span.withConfig({componentId:"sc-6645383a-4"})(dn(),(function(e){return e.theme.mediaQueries.sm})),Nn=fe.ZP.img.attrs((function(e){var n=e.$variant;return{alt:n,src:"ready"===n?"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01LjExMzM3IDEuMzMzMjVIMTAuODkzNEMxMy4xNTM0IDEuMzMzMjUgMTQuNjY2NyAyLjkxOTkyIDE0LjY2NjcgNS4yNzk5MlYxMC43MjczQzE0LjY2NjcgMTMuMDc5OSAxMy4xNTM0IDE0LjY2NjYgMTAuODkzNCAxNC42NjY2SDUuMTEzMzdDMi44NTMzNyAxNC42NjY2IDEuMzMzMzcgMTMuMDc5OSAxLjMzMzM3IDEwLjcyNzNWNS4yNzk5MkMxLjMzMzM3IDIuOTE5OTIgMi44NTMzNyAxLjMzMzI1IDUuMTEzMzcgMS4zMzMyNVpNNy42MjAwNCA5Ljk5MzI1TDEwLjc4NjcgNi44MjY1OUMxMS4wMTM0IDYuNTk5OTIgMTEuMDEzNCA2LjIzMzI1IDEwLjc4NjcgNS45OTk5MkMxMC41NiA1Ljc3MzI1IDEwLjE4NjcgNS43NzMyNSA5Ljk2MDA0IDUuOTk5OTJMNy4yMDY3MSA4Ljc1MzI1TDYuMDQwMDQgNy41ODY1OUM1LjgxMzM3IDcuMzU5OTIgNS40NDAwNCA3LjM1OTkyIDUuMjEzMzcgNy41ODY1OUM0Ljk4NjcxIDcuODEzMjUgNC45ODY3MSA4LjE3OTkyIDUuMjEzMzcgOC40MTMyNUw2LjgwMDA0IDkuOTkzMjVDNi45MTMzNyAxMC4xMDY2IDcuMDYwMDQgMTAuMTU5OSA3LjIwNjcxIDEwLjE1OTlDNy4zNjAwNCAxMC4xNTk5IDcuNTA2NzEgMTAuMTA2NiA3LjYyMDA0IDkuOTkzMjVaIiBmaWxsPSIjNTNCQTk1Ii8+Cjwvc3ZnPgo=":"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01LjExMzI1IDEuMzMzNUgxMC44OTMzQzEzLjE1MzMgMS4zMzM1IDE0LjY2NjYgMi45MTk1IDE0LjY2NjYgNS4yNzk1VjEwLjcyNjJDMTQuNjY2NiAxMy4wODAyIDEzLjE1MzMgMTQuNjY2OCAxMC44OTMzIDE0LjY2NjhINS4xMTMyNUMyLjg1MzI1IDE0LjY2NjggMS4zMzMyNSAxMy4wODAyIDEuMzMzMjUgMTAuNzI2MlY1LjI3OTVDMS4zMzMyNSAyLjkxOTUgMi44NTMyNSAxLjMzMzUgNS4xMTMyNSAxLjMzMzVaTTEwLjM4NjYgMTAuNTQwMkMxMC41NTMzIDEwLjU0MDIgMTAuNzE5OSAxMC40NTM1IDEwLjgxMzMgMTAuMjkzNUMxMC45NTk5IDEwLjA1OTUgMTAuODc5OSA5Ljc1MjgzIDEwLjYzOTkgOS42MDY4M0w4LjI2NjU4IDguMTkzNVY1LjExMjgzQzguMjY2NTggNC44NDAxNiA4LjA0NjU5IDQuNjEyODMgNy43NjY1OCA0LjYxMjgzQzcuNDkzMjUgNC42MTI4MyA3LjI2NjU4IDQuODQwMTYgNy4yNjY1OCA1LjExMjgzVjguNDgwMTZDNy4yNjY1OCA4LjY1MzUgNy4zNTk5MiA4LjgyMDE2IDcuNTEzMjUgOC45MDY4M0wxMC4xMjY2IDEwLjQ2NjhDMTAuMjA2NiAxMC41MjAyIDEwLjI5OTkgMTAuNTQwMiAxMC4zODY2IDEwLjU0MDJaIiBmaWxsPSIjRUM4NjAwIi8+Cjwvc3ZnPgo="}})).withConfig({componentId:"sc-6645383a-5"})(Mn(),(function(e){return e.theme.mediaQueries.sm})),vn=fe.ZP.img.attrs({alt:"info",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNyAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzI4NTVfMjg3NDApIj4KPHBhdGggZD0iTTguMDA0NjggMTQuNjY2OEMxMS42ODY2IDE0LjY2NjggMTQuNjcxMyAxMS42ODIxIDE0LjY3MTMgOC4wMDAxNkMxNC42NzEzIDQuMzE4MjYgMTEuNjg2NiAxLjMzMzUgOC4wMDQ2OCAxLjMzMzVDNC4zMjI3OCAxLjMzMzUgMS4zMzgwMSA0LjMxODI2IDEuMzM4MDEgOC4wMDAxNkMxLjMzODAxIDExLjY4MjEgNC4zMjI3OCAxNC42NjY4IDguMDA0NjggMTQuNjY2OFoiIHN0cm9rZT0iI0VDODYwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuNSIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNOC4wMDQ2NCAxMC42NjY3VjgiIHN0cm9rZT0iI0VDODYwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuNSIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNOC4wMDQ2NCA1LjMzMzVIOC4wMTEzMSIgc3Ryb2tlPSIjRUM4NjAwIiBzdHJva2Utb3BhY2l0eT0iMC41IiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMjg1NV8yODc0MCI+CjxyZWN0IHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDA0NjM4NjcpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="}).withConfig({componentId:"sc-6645383a-6"})(hn()),Dn=(0,fe.ZP)(je.GlZ).withConfig({componentId:"sc-6645383a-7"})(gn(),(function(e){return e.theme.spaceMap.lg})),Tn=(0,fe.ZP)(je.rUS).withConfig({componentId:"sc-6645383a-8"})(jn()),zn=(0,fe.ZP)(fn).withConfig({componentId:"sc-6645383a-9"})(mn(),171),An=(0,fe.ZP)(fn).withConfig({componentId:"sc-6645383a-10"})(xn(),171),bn=function(e){return"pending"===e.status?(0,r.jsx)(Sn,{}):(0,r.jsx)(Cn,{status:"ready"})},Sn=function(){var e=le("");return(0,r.jsx)(je.ua7,{title:"Current withdrawal period is ".concat(e.value,"."),children:(0,r.jsx)(Cn,{status:"pending"})})},Cn=(0,c.forwardRef)((function(e,n){var t=e.status,i=(0,rn.Z)(e,["status"]),a="ready"===t?"Ready to claim":"Pending";return(0,r.jsxs)(wn,(0,Y.Z)((0,U.Z)({},i),{ref:n,$variant:t,children:[(0,r.jsx)(yn,{children:a}),(0,r.jsx)(Nn,{$variant:t}),"pending"===t&&(0,r.jsx)(vn,{})]}))})),kn=function(){var e=(0,l.Z)((function(e,n){var t,r,i;return(0,d.__generator)(this,(function(a){t=e.requests,(0,x.Z)(n);try{if(r=n.maxSelectedRequestCount,0===(i=t.filter((function(e){return e.checked})).map((function(e){return e.status}))).length)throw new B.p8("requests","No requests selected for claim");if(i.length>r)throw new B.p8("requests","Cannot claim more than ".concat(r," requests at once"));return[2,{values:{requests:t,selectedTokens:i},errors:{}}]}catch(o){return[2,(0,B.qZ)(o,"ClaimForm","selectedTokens")]}return[2]}))}));return function(n,t){return e.apply(this,arguments)}}(),Ln=t(50028),En=function(){var e=(0,Ln.w)(),n=(0,j.w2)().isLedgerLive;return"ledger-live"===e||n},Zn=t(30848),On=function(e,n){return{requests:(0,w.Z)(e.sortedClaimableRequests.map((function(e,t){return{token_id:e.stringId,checked:t<n,status:e}}))).concat((0,w.Z)(e.pendingRequests.map((function(e){return{token_id:e.stringId,checked:!1,status:e}})))),selectedTokens:[]}},Pn=function(){return{selectedRequests:[],canSelectMore:!0,ethToClaim:N._Y,requestsCount:0}},Un=(0,c.createContext)(null);Un.displayName="claimFormDataContext";var Yn=function(){var e=(0,c.useContext)(Un);return(0,x.Z)(e),e},Qn=function(e){var n=e.children,t=(0,I.pX)().dispatchModalState,i=he().data,a=(0,c.useState)(!1),o=a[0],s=a[1],u=function(){var e=En()?Q.jh:Q.wn;return{maxSelectedRequestCount:e,defaultSelectedRequestCount:Math.min(Q.ZF,e)}}(),g=u.maxSelectedRequestCount,w=u.defaultSelectedRequestCount,y=function(e){var n=he(),t=n.data,r=n.error,i=(0,c.useMemo)((function(){if(t)return On(t,e)}),[e,t]),a=(0,Zn.c)(i),o=a.awaiter,s=a.resolver;return(0,c.useEffect)((function(){r&&!s.isResolved&&s.resolve({requests:[],selectedTokens:[]})}),[s,r]),{getDefaultValues:(0,c.useCallback)((function(){return i?Promise.resolve(i):o}),[o,i])}}(w).getDefaultValues,v=(0,an.cI)({defaultValues:y,resolver:kn,context:{maxSelectedRequestCount:g},mode:"onChange",reValidateMode:"onChange"}),D=v.watch,T=v.reset,z=v.handleSubmit,A=v.setValue,b=v.getValues,S=v.formState,C=function(e,n){var t=(0,c.useState)(Pn),r=t[0],i=t[1];return(0,c.useEffect)((function(){var t=e((function(e){var t,r,a=e.requests,o=null!==(t=null===a||void 0===a?void 0:a.filter((function(e){return null===e||void 0===e?void 0:e.checked})).map((function(e){return null===e||void 0===e?void 0:e.status})))&&void 0!==t?t:[],s=o.reduce((function(e,n){var t;return e.add(null!==(t=null===n||void 0===n?void 0:n.claimableEth)&&void 0!==t?t:N._Y)}),N._Y);i({selectedRequests:o,canSelectMore:o.length<n,requestsCount:null!==(r=null===a||void 0===a?void 0:a.length)&&void 0!==r?r:0,ethToClaim:s})}));return function(){return t.unsubscribe()}}),[e,n]),r}(D,g),k=function(){var e=(0,j.$6)().account,n=(0,p.e)().providerWeb3,t=m().contractWeb3,r=he().optimisticClaimRequests,i=(0,I.pX)().dispatchModalState;return(0,c.useCallback)(function(){var a=(0,l.Z)((function(a){var o,s,u,c,g,j,m,p,w;return(0,d.__generator)(this,(function(y){switch(y.label){case 0:return y.trys.push([0,6,,7]),(0,x.Z)(t,"must have contract"),(0,x.Z)(a,"must have requests"),(0,x.Z)(e,"must have address"),(0,x.Z)(n,"must have provider"),[4,(0,f.T)(e,t.provider)];case 1:return o=y.sent(),s=a.reduce((function(e,n){return e.add(n.claimableEth)}),M.O$.from(0)),i({type:"start",operation:I.jL.CONTRACT,amount:s,token:"ETH"}),u=a.map((function(e){return e.id})),c=a.map((function(e){return e.hint})),g=function(){var e=(0,l.Z)((function(){var e,r,i,a,s,l,M;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:return o?[4,t.populateTransaction.claimWithdrawals(u,c)]:[3,2];case 1:return e=d.sent(),[2,n.getSigner().sendUncheckedTransaction(e)];case 2:return[4,t.provider.getFeeData()];case 3:return r=d.sent(),a=null!==(i=r.maxFeePerGas)&&void 0!==i?i:void 0,l=null!==(s=r.maxPriorityFeePerGas)&&void 0!==s?s:void 0,[4,t.estimateGas.claimWithdrawals(u,c,{maxFeePerGas:a,maxPriorityFeePerGas:l})];case 4:return M=d.sent(),[2,t.claimWithdrawals(u,c,{maxFeePerGas:a,maxPriorityFeePerGas:l,gasLimit:M})];case 5:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),[4,(0,h.J6)("Claim signing",g)];case 2:return j=y.sent(),m="string"!==typeof j,o||!m?[3,5]:(i({type:"block",txHash:j.hash}),[4,(0,h.J6)("Claim block confirmation",(0,l.Z)((function(){return(0,d.__generator)(this,(function(e){return[2,j.wait()]}))})))]);case 3:return y.sent(),[4,r(a)];case 4:y.sent(),y.label=5;case 5:return i({type:o?"success_multisig":"success"}),[2,!0];case 6:return p=y.sent(),w=(0,h.e$)(p),i({type:"error",errorText:w}),[2,!1];case 7:return[2]}}))}));return function(e){return a.apply(this,arguments)}}(),[t,e,n,i,r])}(),L=(0,c.useMemo)((function(){return z(function(){var e=(0,l.Z)((function(e){var n;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return n=e.selectedTokens,[4,k(n)];case 1:return t.sent()&&s(!0),[2]}}))}));return function(n){return e.apply(this,arguments)}}())}),[z,k]);(0,c.useEffect)((function(){t({type:"set_on_retry",callback:L})}),[t,L]);var E=S.isSubmitting;(0,c.useEffect)((function(){if(i&&!E){if(o)return T(On(i,w)),void s(!1);var e=b("requests"),n=new Set(e.filter((function(e){return e.checked})).map((function(e){return e.token_id}))),t=On(i,w).requests.map((function(e){return(0,Y.Z)((0,U.Z)({},e),{checked:n.has(e.token_id)})}));A("requests",t,{shouldValidate:!0,shouldDirty:!1})}}),[i,b,A,o,T,E,w]);var Z=(0,c.useMemo)((function(){return(0,U.Z)({onSubmit:L},C)}),[C,L]);return(0,r.jsx)(an.RV,(0,Y.Z)((0,U.Z)({},v),{children:(0,r.jsx)(Un.Provider,{value:Z,children:(0,c.useMemo)((function(){return n}),[n])})}))},qn=(0,c.forwardRef)((function(e,n){var t=e.token_id,i=e.name,a=e.disabled,o=e.index,s=(0,rn.Z)(e,["token_id","name","disabled","index"]),u=(0,j.$6)().chainId,c=(0,an.cl)().isSubmitting,l=Yn().canSelectMore,d=(0,an.qo)({name:"requests.".concat(o)}),M=d.checked,g=d.status,m=a||!g.isFinalized||!l&&!M||c,x="claimableEth"in g,f=x?g.claimableEth:g.amountOfStETH,p=x?"ETH":"stETH",I=(0,r.jsx)(on.o5,{"data-testid":"requestAmount",showAmountTip:!0,amount:f,symbol:p});return(0,r.jsxs)(In,{"data-testid":"requestItem",$disabled:m,children:[(0,r.jsx)(je.XZJ,(0,Y.Z)((0,U.Z)({},s),{"data-testid":"requestCheckbox",label:I,disabled:m,name:i,ref:n})),(0,r.jsx)(bn,{status:g.isFinalized?"ready":"pending"}),(0,r.jsx)(Tn,{"data-testid":"requestNftLink",href:(0,h.Ur)(t,u),children:(0,r.jsx)(je.RQD,{})})]})})),Rn=function(){return(0,j.$6)().active?(0,r.jsx)(zn,{children:(0,r.jsx)(pn,{children:"No withdrawal requests detected."})}):(0,r.jsx)(zn,{children:(0,r.jsx)(pn,{children:"Connect wallet to see your withdrawal requests"})})},Hn=Array.from({length:3}).fill(null),Wn=function(){return(0,r.jsx)(An,{children:Hn.map((function(e,n){return(0,r.jsxs)(In,{$loading:!0,children:[(0,r.jsx)(je.XZJ,{disabled:!0}),(0,r.jsx)(Dn,{})]},n)}))})},Fn=function(){var e=(0,an.cl)().isLoading,n=(0,an.Gc)().register,t=(0,an.Dq)({name:"requests"}).fields;return e?(0,r.jsx)(Wn,{}):0===t.length?(0,r.jsx)(Rn,{}):(0,r.jsx)(fn,{children:t.map((function(e,t){var i=e.token_id,a=e.id;return(0,r.jsx)(qn,(0,U.Z)({index:t,token_id:i},n("requests.".concat(t,".checked"),{deps:"requests"})),a)}))})};function Gn(){var e=(0,xe.Z)(["\n  margin-bottom: ","px;\n"]);return Gn=function(){return e},e}function Bn(){var e=(0,xe.Z)(["\n  margin-bottom: 0;\n  padding-bottom: 0;\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n"]);return Bn=function(){return e},e}function Vn(){var e=(0,xe.Z)(["\n  --r: ","px;\n  --r-1: ","px;\n  --g: #0000 98%, #000;\n  /* It should be --lido-color-accentBorder, but it can't be used here because it has transparency */\n  --border-color: var(--lido-color-foreground);\n\n  position: absolute;\n  display: block;\n  top: calc((-1 * var(--r)));\n  left: ","px;\n  right: ","px;\n  height: var(--r);\n  mask-image: radial-gradient(var(--r-1) at var(--r) 0, var(--g));\n\n  "," {\n    left: ","px;\n    right: ","px;\n  }\n\n  & div:nth-child(1),\n  & div:nth-child(2) {\n    position: absolute;\n    top: 0;\n    width: var(--r);\n    height: var(--r);\n    background-color: var(--lido-color-foreground);\n    &:after {\n      content: '';\n      display: block;\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: var(--r);\n      height: var(--r);\n      border-width: 1px;\n      border-color: var(--border-color);\n      border-style: solid;\n    }\n  }\n\n  & div:nth-child(1) {\n    left: 0;\n    mask-image: radial-gradient(var(--r-1) at var(--r) 0, var(--g));\n    &:after {\n      border-top-width: 0;\n      border-right-width: 0;\n      border-bottom-left-radius: var(--r);\n    }\n  }\n\n  & div:nth-child(2) {\n    right: 0;\n    mask-image: radial-gradient(var(--r-1) at 0 0, var(--g));\n    &:after {\n      border-top-width: 0;\n      border-left-width: 0;\n      border-bottom-right-radius: var(--r);\n    }\n  }\n\n  & div:nth-child(3) {\n    position: absolute;\n    bottom: 0;\n    right: var(--r);\n    left: var(--r);\n    height: 1px;\n    background-color: var(--border-color);\n  }\n"]);return Vn=function(){return e},e}function _n(){var e=(0,xe.Z)(["\n      background-color: var(--lido-color-background);\n    "]);return _n=function(){return e},e}function Jn(){var e=(0,xe.Z)(["\n  position: ",";\n  bottom: 0;\n  ","\n"]);return Jn=function(){return e},e}function Xn(){var e=(0,xe.Z)(["\n  position: relative;\n  padding-top: ","px;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  background-color: var(--lido-color-foreground);\n"]);return Xn=function(){return e},e}(0,fe.ZP)(je.zxk).withConfig({componentId:"sc-228890ef-0"})(Gn(),(function(e){return e.theme.spaceMap.md}));var $n=(0,fe.ZP)(je.gOu).withConfig({componentId:"sc-228890ef-1"})(Bn()),Kn=fe.ZP.div.withConfig({componentId:"sc-228890ef-2"})(Vn(),(function(e){return e.theme.borderRadiusesMap.md}),(function(e){return e.theme.borderRadiusesMap.md-1}),(function(e){return e.theme.spaceMap.xxl}),(function(e){return e.theme.spaceMap.xxl}),(function(e){return e.theme.mediaQueries.md}),(function(e){return e.theme.spaceMap.lg}),(function(e){return e.theme.spaceMap.lg})),et=fe.ZP.div.withConfig({componentId:"sc-228890ef-3"})(Jn(),(function(e){return e.isSticked?"sticky":"relative"}),(function(e){return e.isSticked&&(0,fe.iv)(_n())})),nt=(0,fe.ZP)(je.gOu).withConfig({componentId:"sc-228890ef-4"})(Xn(),(function(e){return e.theme.spaceMap.lg})),tt=function(e){var n=e.effect,t=e.deps;return(0,c.useLayoutEffect)(n,t),null},rt=function(e){return function(){var e=(0,c.useState)(!0),n=e[0],t=e[1];return(0,c.useEffect)((function(){return t(!1)}),[]),n}()?null:(0,r.jsx)(tt,(0,U.Z)({},e))},it=t(81302),at=171+Math.floor(57*.66),ot=function(e){var n=e.isEnabled,t=e.refRequests,i=e.positionDeps,a=e.children,o=function(){var e=(0,c.useState)(Object.create(null))[1];return(0,c.useCallback)((function(){return e(Object.create(null))}),[])}(),s=(0,c.useRef)(null),u=(0,c.useRef)({isSticked:!1,footerShift:-1}).current,l=(0,c.useCallback)((function(e,n){u[e]=n,o()}),[u,o]),d=(0,c.useCallback)((function(){var e=t.current,n=s.current;if(e&&n){var r={x:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,y:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},i=r.y,a=r.x,o=e.getBoundingClientRect(),c=n.getBoundingClientRect(),d=n.clientHeight,M=a<it.On?it.DO:0,h=i-at-M,g=-Math.min(0,o.top-h),j=c.bottom-i+M;if(g>0&&Math.round(j)>=0){u.isSticked||l("isSticked",!0);var m=d-Math.min(g,d)-M;m!==u.footerShift&&(n.style.setProperty("bottom","".concat(-m,"px")),u.footerShift=m)}else u.isSticked&&(u.footerShift=-1,n.style.removeProperty("bottom"),l("isSticked",!1))}}),[]),M=(0,c.useCallback)((function(){if(n){var e=s.current;return window.addEventListener("resize",d,{passive:!0}),window.addEventListener("scroll",d,{passive:!0}),function(){window.removeEventListener("resize",d),window.removeEventListener("scroll",d),u.footerShift=-1,e&&e.style.removeProperty("bottom")}}}),[n]),h=(0,c.useCallback)((function(){n&&d()}),[n]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(et,{isSticked:n&&u.isSticked,ref:s,children:(0,r.jsxs)(nt,{children:[(0,r.jsxs)(Kn,{children:[(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{})]}),a]})}),(0,r.jsx)(rt,{effect:M,deps:[n]}),(0,r.jsx)(rt,{effect:h,deps:[n].concat((0,w.Z)(i))})]})},st=t(85908),ut=function(){var e=(0,j.$6)().active,n=(0,an.cl)(),t=n.isSubmitting,i=n.isValidating,a=n.errors,o=Yn().ethToClaim,s=Yn().selectedRequests;if(!e)return(0,r.jsx)(Ue.lj,{fullwidth:!0});var u=o.lte(N._Y)?null:(0,r.jsx)(st.o,{amount:o,symbol:"ETH"}),c=!!a.requests&&!(0,B.ZS)(a.requests.type)||0===s.length;return(0,r.jsxs)(je.zxk,{"data-testid":"claimButton",fullwidth:!0,disabled:c,loading:t||i,type:"submit",children:["Claim ",u]})},ct=t(52916),lt=t(20627),dt=function(){var e=function(e){var n,t=m().contractRpc,r=(0,j.$6)(),i=r.account,a=r.chainId,o=e.length||1,s=(0,lt.c)(e,2e3),u=(0,z.p)(["swr:claim-request-gas-limit",s,i,a],(0,l.Z)((function(){var e;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return a&&i&&t&&0!==s.length?(e=s,[4,null===t||void 0===t?void 0:t.estimateGas.claimWithdrawals(e.map((function(e){return e.id})),e.map((function(e){return e.hint})),{from:i}).catch((function(n){console.warn("Could not estimate gas for claim",{ids:e.map((function(e){return e.id})),account:i,error:n})}))]):[2,void 0];case 1:return[2,n.sent()]}}))})),A.wd),c=u.data,M=u.initialLoading,h=M?void 0:null!==(n=null===c||void 0===c?void 0:c.toNumber())&&void 0!==n?n:oe.wp*o,g=(0,ct.w)(h);return{loading:M||!g||s!==e,claimGasLimit:h,claimTxPriceInUsd:g}}(Yn().selectedRequests),n=e.claimTxPriceInUsd,t=e.loading;return(0,r.jsx)(je.UkV,{"data-testid":"maxTxCost",title:"Max transaction cost",loading:t,children:(0,r.jsx)(on.$2,{amount:n})})},Mt=function(){var e=(0,c.useRef)(null),n=S().isBunker,t=(0,an.cl)().isLoading,i=Yn(),a=i.onSubmit,o=i.requestsCount,s=0===o;return(0,r.jsxs)("form",{onSubmit:a,children:[(0,r.jsxs)($n,{"data-testid":"claimList",children:[n&&(0,r.jsx)(tn,{}),(0,r.jsx)("div",{ref:e,children:(0,r.jsx)(Fn,{})})]}),(0,r.jsxs)(ot,{isEnabled:!t&&!s,refRequests:e,positionDeps:[o],children:[(0,r.jsx)(ut,{}),(0,r.jsx)(dt,{})]})]})},ht=function(e){var n=e.onClose,t=e.txStage,i=e.children,a=(0,j.w2)().isLedger,o=(0,c.useMemo)((function(){return a&&t&&![I.qh.SUCCESS,I.qh.SUCCESS_MULTISIG,I.qh.FAIL].includes(t)}),[a,t]);return(0,r.jsx)(je.u_l,(0,Y.Z)((0,U.Z)({},e),{onClose:o?void 0:n,children:i}))},gt=t(45567),jt=t(87831);function mt(){var e=(0,xe.Z)(["\n  width: 100%;\n  text-align: center;\n\n  svg {\n    max-width: 100%;\n  }\n"]);return mt=function(){return e},e}function xt(){var e=(0,xe.Z)(["\n  height: 64px;\n  width: 100%;\n  text-align: center;\n"]);return xt=function(){return e},e}function ft(){var e=(0,xe.Z)(["\n  padding: 20px;\n  border: 2px solid var(--lido-color-success);\n  border-radius: 50%;\n  color: var(--lido-color-success);\n"]);return ft=function(){return e},e}function pt(){var e=(0,xe.Z)(["\n  padding: 20px;\n  border: 2px solid var(--lido-color-error);\n  border-radius: 50%;\n  color: var(--lido-color-error);\n"]);return pt=function(){return e},e}function It(){var e=(0,xe.Z)(["\n  margin: 0 auto;\n"]);return It=function(){return e},e}function wt(){var e=(0,xe.Z)(["\n  border-radius: 50%;\n  color: var(--lido-color-warning);\n"]);return wt=function(){return e},e}var yt,Nt,vt=fe.ZP.div.withConfig({componentId:"sc-25a238eb-0"})(mt()),Dt=fe.ZP.div.withConfig({componentId:"sc-25a238eb-1"})(xt()),Tt=(0,fe.ZP)(je.pGh).withConfig({componentId:"sc-25a238eb-2"})(ft()),zt=(0,fe.ZP)(je.x8P).withConfig({componentId:"sc-25a238eb-3"})(pt()),At=(0,fe.ZP)(je.aNw).withConfig({componentId:"sc-25a238eb-4"})(It()),bt=(0,fe.ZP)(je.v3j).withConfig({componentId:"sc-25a238eb-5"})(wt()),St={ledger:(yt={},(0,Fe.Z)(yt,I.qh.SUCCESS,(0,r.jsx)(vt,{children:(0,r.jsx)(je.O8v,{fill:"transparent"})})),(0,Fe.Z)(yt,I.qh.SUCCESS_MULTISIG,(0,r.jsx)(vt,{children:(0,r.jsx)(je.O8v,{fill:"transparent"})})),(0,Fe.Z)(yt,I.qh.SIGN,(0,r.jsx)(vt,{children:(0,r.jsx)(je.D_,{fill:"transparent"})})),(0,Fe.Z)(yt,I.qh.FAIL,(0,r.jsx)(vt,{children:(0,r.jsx)(je.cuQ,{fill:"transparent"})})),(0,Fe.Z)(yt,I.qh.BLOCK,(0,r.jsx)(vt,{children:(0,r.jsx)(je.qHi,{fill:"transparent"})})),(0,Fe.Z)(yt,"DIALOG",(0,r.jsx)(vt,{children:(0,r.jsx)(bt,{})})),yt),default:(Nt={},(0,Fe.Z)(Nt,I.qh.SUCCESS,(0,r.jsx)(Dt,{children:(0,r.jsx)(Tt,{})})),(0,Fe.Z)(Nt,I.qh.SUCCESS_MULTISIG,(0,r.jsx)(Dt,{children:(0,r.jsx)(Tt,{})})),(0,Fe.Z)(Nt,I.qh.FAIL,(0,r.jsx)(Dt,{children:(0,r.jsx)(zt,{})})),(0,Fe.Z)(Nt,I.qh.SIGN,(0,r.jsx)(At,{size:"large"})),(0,Fe.Z)(Nt,I.qh.BLOCK,(0,r.jsx)(At,{size:"large"})),(0,Fe.Z)(Nt,"DIALOG",(0,r.jsx)(Dt,{children:(0,r.jsx)(bt,{})})),Nt)},Ct=function(e,n){return n===I.qh.NONE?null:null!==(t=St[e?"ledger":"default"][n])&&void 0!==t?t:null;var t},kt=function(e){var n=e.title,t=e.description,i=e.txHash,a=(0,j.w2)().isLedger;return(0,r.jsx)(jt.F,{icon:Ct(a,I.qh.BLOCK),title:n,description:t,footerHint:i&&(0,r.jsx)(gt.H,{txHash:i})})},Lt=function(e){var n=e.txHash,t=e.description,i=e.title,a=e.children,o=e.showEtherscan,s=void 0===o||o,u=e.onClickEtherscan,c=(0,j.w2)().isLedger;return(0,r.jsx)(jt.F,{icon:Ct(c,I.qh.SUCCESS),title:i,description:t,footerHint:s&&n&&(0,r.jsx)(gt.H,{txHash:n,onClick:u}),footer:a})},Et=function(){var e=(0,j.w2)().isLedger;return(0,r.jsx)(jt.F,{icon:Ct(e,I.qh.SUCCESS_MULTISIG),title:"Success",description:"Your transaction has been successfully created in the multisig wallet and awaits approval from other participants"})},Zt=function(e){var n=e.title,t=e.description,i=(0,j.w2)().isLedger;return(0,r.jsx)(jt.F,{icon:Ct(i,I.qh.SIGN),title:n,description:t,footerHint:"Confirm this transaction in your wallet"})},Ot=function(){var e=(0,j.w2)().isLedger;return(0,r.jsx)(jt.F,{icon:Ct(e,I.qh.SIGN),title:"Please sign the message",description:"Processing your request",footerHint:"Confirm request in your wallet"})};function Pt(){var e=(0,xe.Z)(["\n  margin-top: 44px;\n  line-height: 20px;\n  display: flex;\n  justify-content: space-between;\n\n  button:first-of-type {\n    margin-right: ","px;\n  }\n\n  "," {\n    display: flex;\n    flex-direction: column;\n\n    button:first-of-type {\n      margin-right: 0;\n      margin-bottom: ","px;\n    }\n  }\n"]);return Pt=function(){return e},e}function Ut(){var e=(0,xe.Z)(["\n  cursor: pointer;\n  color: var(--lido-color-primary);\n"]);return Ut=function(){return e},e}var Yt=fe.ZP.div.withConfig({componentId:"sc-880d67b-0"})(Pt(),(function(e){return e.theme.spaceMap.lg}),(function(e){return e.theme.mediaQueries.md}),(function(e){return e.theme.spaceMap.lg})),Qt=fe.ZP.span.withConfig({componentId:"sc-880d67b-1"})(Ut()),qt=function(e){var n=e.failedText,t=e.onClick,i=(0,j.w2)().isLedger;return(0,r.jsx)(jt.F,{icon:Ct(i,I.qh.FAIL),title:"Transaction Error",description:null!==n&&void 0!==n?n:"Something went wrong",footerHint:n!==h.Bc.NOT_ENOUGH_ETHER&&t&&(0,r.jsx)(Qt,{onClick:t,children:"Retry"})})},Rt=function(e){var n=e.onClick,t=e.onClose,i=(0,j.w2)().isLedger;return(0,r.jsx)(jt.F,{icon:Ct(i,"DIALOG"),title:"Attention!",description:"Lido protocol is in \u201cBunker mode\u201d, the withdrawal requests are slowed down, still request withdrawal?",footer:(0,r.jsxs)(Yt,{children:[(0,r.jsx)(je.zxk,{fullwidth:!0,onClick:t,color:"secondary",size:"sm",children:"Cancel"}),(0,r.jsx)(je.zxk,{fullwidth:!0,onClick:n,size:"sm",children:"Request withdrawal"})]})})},Ht=t(49348),Wt=t(7956),Ft=function(){var e=(0,I.pX)(),n=e.isModalOpen,t=e.txStage,i=e.amount,a=e.txHash,o=e.errorText,s=e.onRetry,u=e.dispatchModalState,l=(0,c.useMemo)((function(){var e=i?(0,h.az)(i,4,{adaptive:!0,elipsis:!0}):"",n=i?(0,h.az)(i,18):"",u=(0,Wt.OH)(e,n,(0,r.jsx)("span",{"data-testid":"sendAmount",children:e})),c=(0,r.jsxs)(r.Fragment,{children:[u," ETH has been claimed"]}),l=(0,r.jsxs)(r.Fragment,{children:["You are now claiming ",u," ETH"]}),d=(0,r.jsxs)(r.Fragment,{children:["You are now claiming ",u," ETH"]});switch(t){case I.qh.SIGN:return(0,r.jsx)(Zt,{description:"Processing your request",title:d});case I.qh.BLOCK:return(0,r.jsx)(kt,{description:"Awaiting block confirmation",title:l,txHash:a});case I.qh.SUCCESS:return(0,r.jsx)(Lt,{description:"Claiming operation was successful",title:c,txHash:a,onClickEtherscan:function(){return(0,Ht.s)(Ht.A.claimViewOnEtherscanSuccessTemplate)}});case I.qh.SUCCESS_MULTISIG:return(0,r.jsx)(Et,{});case I.qh.FAIL:return(0,r.jsx)(qt,{failedText:o,onClick:null!==s&&void 0!==s?s:void 0});default:return null}}),[i,t,a,o,s]);return(0,r.jsx)(ht,{open:n,onClose:function(){return u({type:"close_modal"})},txStage:t,children:l})},Gt=function(){var e=he(),n=e.data,t=e.initialLoading,i=(0,r.jsx)(on.o5,{showAmountTip:!0,amount:null===n||void 0===n?void 0:n.claimableAmountOfETH,symbol:"ETH"});return(0,r.jsx)(Ue.gX,{small:!0,"data-testid":"availableToClaim",title:"Available to claim",loading:t,value:i})},Bt=t(89203),Vt=t(33624),_t=function(){var e=(0,Bt.x)(v.eT.STETH),n=he(),t=n.data,i=n.initialLoading,a=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(on.o5,{showAmountTip:!0,amount:null===t||void 0===t?void 0:t.pendingAmountOfStETH,symbol:"stETH"}),(0,r.jsx)(Vt.s,{"data-testid":"addStethToWalletBtn",address:e})]});return(0,r.jsx)(Ue.gX,{small:!0,"data-testid":"myPendingAmount",title:"My pending amount",loading:i,value:a})},Jt=function(){var e=(0,p.e)().account;return(0,r.jsxs)(Qe,{"data-testid":"claimCardSection",children:[(0,r.jsxs)(Ue.lS,{children:[(0,r.jsx)(Gt,{}),(0,r.jsx)(Ue.B8,{account:e})]}),(0,r.jsx)(je.izJ,{}),(0,r.jsxs)(Ue.lS,{children:[(0,r.jsx)(nn,{}),(0,r.jsx)(_t,{})]})]})},Xt=(0,c.memo)((function(e){return(0,j.$6)().active?(0,r.jsx)(Jt,(0,U.Z)({},e)):(0,r.jsx)(Ue.NY,(0,U.Z)({},e))})),$t=function(){return(0,r.jsx)(ge.i,{children:(0,r.jsxs)(Qn,{children:[(0,r.jsx)(Xt,{}),(0,r.jsx)(Mt,{}),(0,r.jsx)(Pe,{}),(0,r.jsx)(Ft,{})]})})},Kt=t(16651),er=function(){var e=he().revalidate,n=(0,q.M)({contract:(0,g.LC)(),method:"totalSupply",config:A.wd}).data,t=S(),r=t.maxAmount,i=t.minAmount,a=(0,g.Z3)(),o=(0,Kt.DS)(A.wd),s=o.data,u=o.update,M=(0,Kt.b$)(A.wd),h=M.data,j=M.update,x=function(){var e=m().contractRpc;return(0,q.M)({contract:e,method:"unfinalizedStETH",config:A.wd})}(),f=x.data,p=x.update,I=(0,q.M)({contract:a,method:"getWstETHByStETH",params:[r],shouldFetch:!!r,config:A.wd}).data,w=(0,q.M)({contract:a,method:"getWstETHByStETH",params:[i],shouldFetch:!!i,config:A.wd}).data,y=(0,c.useCallback)((0,l.Z)((function(){return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return[4,Promise.allSettled([u(),j(),e(),p()])];case 1:return n.sent(),[2]}}))})),[u,p,e,j]);return(0,c.useMemo)((function(){return{maxAmountPerRequestSteth:r,minUnstakeSteth:i,balanceSteth:s,balanceWSteth:h,maxAmountPerRequestWSteth:I,minUnstakeWSteth:w,stethTotalSupply:n,unfinalizedStETH:f,revalidateRequestFormData:y}}),[s,h,r,I,i,w,n,f,y])},nr=(0,c.createContext)(null);nr.displayName="RequestFormDataContext";var tr=function(){var e=(0,c.useContext)(nr);return(0,x.Z)(e,"useRequestFormData was used outside the provider"),e},rr=(0,c.createContext)(null);rr.displayName="IntermediateValidationResultsContext";var ir=function(){var e=(0,c.useContext)(rr);return(0,x.Z)(e,"useValidationResults was used outside the provider"),e},ar=function(e){var n=e.children,t=(0,I.pX)().dispatchModalState,i=(0,c.useState)({requests:null}),a=i[0],o=i[1],s=er(),u=s.balanceSteth,M=s.balanceWSteth,h=s.revalidateRequestFormData,g=function(e,n){var t=(0,j.$6)().active,r=En()?Q.jh:Q.wn,i=e.balanceSteth,a=e.balanceWSteth,o=e.maxAmountPerRequestSteth,s=e.maxAmountPerRequestWSteth,u=e.minUnstakeSteth,l=e.minUnstakeWSteth,d=e.stethTotalSupply,M=(0,c.useMemo)((function(){return i&&a&&o&&s&&u&&l&&d?{balanceSteth:i,balanceWSteth:a,maxAmountPerRequestSteth:o,maxAmountPerRequestWSteth:s,minUnstakeSteth:u,minUnstakeWSteth:l,maxRequestCount:r,stethTotalSupply:d}:void 0}),[i,a,o,s,r,u,l,d]);return{active:t,asyncContext:(0,Zn.c)(M).awaiter,setIntermediateValidationResults:n}}(s,o),m=(0,an.cI)({defaultValues:{amount:null,token:v.eT.STETH,mode:"lido",requests:null},context:g,criteriaMode:"firstError",mode:"onChange",resolver:te}),x=m.handleSubmit,f=m.reset,p=m.watch,w=m.formState.defaultValues,y=(0,T.Z)(p(["token","amount"]),2),N=y[0],D=y[1],z=P({token:N,amount:D,onConfirm:h}),A=z.allowance,b=z.request,S=z.isApprovalFlow,C=z.isApprovalFlowLoading,k=z.isTokenLocked,L=(0,c.useMemo)((function(){return x(function(){var e=(0,l.Z)((function(e){var n,t,r,i;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:return n=e.requests,t=e.mode,r=e.amount,i=e.token,[4,b(n,r,i)];case 1:return a.sent().success&&f((0,Y.Z)((0,U.Z)({},w),{mode:t,token:i})),[2]}}))}));return function(n){return e.apply(this,arguments)}}())}),[x,b,f,w]);(0,c.useEffect)((function(){t({type:"set_on_retry",callback:L})}),[t,L]);var E=N===v.eT.STETH?u:M,Z=(0,c.useMemo)((function(){return(0,Y.Z)((0,U.Z)({},s),{isApprovalFlow:S,isApprovalFlowLoading:C,isTokenLocked:k,allowance:A,maxAmount:E,onSubmit:L})}),[s,S,C,k,A,E,L]);return(0,r.jsx)(an.RV,(0,Y.Z)((0,U.Z)({},m),{children:(0,r.jsx)(nr.Provider,{value:Z,children:(0,r.jsx)(rr.Provider,{value:a,children:n})})}))},or=function(){return(0,r.jsx)(je.UQy,{summary:"How long does it take to withdraw?",children:(0,r.jsxs)("p",{children:["Under normal circumstances, the stETH/wstETH withdrawal period can take anywhere between ",(0,r.jsx)(we,{children:"1-5 days"}),". After that, you can claim your ETH using the\xa0",(0,r.jsx)(Ne.S,{href:u.Bs,children:"Claim\xa0tab"}),"."]})})},sr=function(){return(0,r.jsx)(Se,{summary:"What are the factors affecting the withdrawal time?",id:"withdrawalsPeriod",children:(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"The amount of stETH in the queue."}),(0,r.jsx)("li",{children:"Perfomance of the validator poolside."}),(0,r.jsx)("li",{children:"Exit queue on the Beacon chain."}),(0,r.jsx)("li",{children:"Demand for staking and unstaking."})]})})},ur=function(){return(0,r.jsx)(je.UQy,{summary:"Is there a fee for withdrawal?",children:(0,r.jsx)("p",{children:"There\u2019s no withdrawal fee, but as with any Ethereum interaction, there will be a network gas fee. Lido does not collect a fee when you request a withdrawal."})})},cr=function(){return(0,r.jsx)(je.UQy,{summary:"What is Turbo mode?",children:(0,r.jsx)("p",{children:"Turbo mode is a default mode used unless an emergency event affects the Ethereum network. In Turbo Mode, withdrawal requests are fulfilled quickly, using all available ETH from user deposits and rewards."})})},lr=function(){return(0,r.jsxs)(je.UQy,{summary:"What is Bunker mode?",children:[(0,r.jsx)("p",{children:"Bunker mode is an emergency mode that activates under three worst-case conditions (when penalties are large enough to significantly impact the protocol\u2019s rewards)."}),(0,r.jsx)("p",{children:"Importantly, Bunker mode allows for orderly withdrawals to be still processed, albeit more slowly, during chaotic tail-risk scenarios (e.g. mass slashings or a significant portion of validators going offline)."})]})},dr=function(){return(0,r.jsxs)(Se,{summary:"What scenarios can cause Bunker mode?",id:"bunkerModeScenarios",children:[(0,r.jsx)("p",{children:"Bunker mode is triggered under three conditions when the penalties might be big enough to have a significant impact on the protocol\u2019s rewards:"}),(0,r.jsxs)("ol",{children:[(0,r.jsx)("li",{children:"Mass slashing."}),(0,r.jsx)("li",{children:"Penalties exceeding rewards in the current period between two Oracle reports."}),(0,r.jsx)("li",{children:"Lower than expected Lido validators' performance in the current period between two Oracle reports and penalties exceeding rewards at the end of\xa0it."})]})]})},Mr=function(){return(0,r.jsx)(je.UQy,{summary:"Do I still get rewards after I withdraw?",children:(0,r.jsx)("p",{children:"No. After you request a withdrawal, the stETH/wstETH submitted for unstaking will not receive staking rewards on top of your submitted balance."})})},hr=function(){return(0,r.jsx)(je.UQy,{summary:"If Bunker mode happens when I\u2019ve already submitted a withdrawal request, do I need to wait longer?",children:(0,r.jsxs)("p",{children:["Most often, the stETH/wstETH withdrawal period will be from"," ",(0,r.jsx)(we,{children:"1-5 days"}),". However, if any scenarios cause Bunker mode to happen, this could be extended."]})})},gr=function(e){return e?e.toLocaleString(oe.MV,{maximumFractionDigits:18}):"..."},jr=function(){var e=S(),n=e.maxAmount,t=e.minAmount,i=gr(Number(t)),a=gr(n&&(0,h.e)(n));return(0,r.jsxs)(je.UQy,{summary:"Is there any minimum or maximum amount of stETH/wstETH I can withdraw?",children:[(0,r.jsxs)("p",{children:["Request size should be at least ",i," wei (in stETH), and at most ",a," stETH."]}),(0,r.jsxs)("p",{children:["If you want to withdraw more than ",a," stETH, your withdrawal request will be split into several requests, but you will still only pay one transaction fee."]})]})},mr=function(){var e=(0,k.gn)();return(0,r.jsxs)(o.$0,{title:"FAQ",onClick:e,children:[(0,r.jsx)(me,{}),(0,r.jsx)(ye,{}),(0,r.jsx)(ve,{}),(0,r.jsx)(De,{}),(0,r.jsx)(Te,{}),(0,r.jsx)(ze,{}),(0,r.jsx)(or,{}),(0,r.jsx)(sr,{}),(0,r.jsx)(Mr,{}),(0,r.jsx)(ur,{}),(0,r.jsx)(Ce,{title:"Why is the claimable amount may differ from my requested amount?"}),(0,r.jsx)(cr,{}),(0,r.jsx)(lr,{}),(0,r.jsx)(dr,{}),(0,r.jsx)(ke,{}),(0,r.jsx)(hr,{}),(0,r.jsx)(jr,{}),(0,r.jsx)(Le,{}),(0,r.jsx)(Ze,{}),(0,r.jsx)(Oe,{})]})},xr=function(){var e=(0,be.S)().navigateInpageAnchor;return(0,r.jsxs)(We,{children:['Lido protocol is in "Bunker mode". The withdrawal requests are slowed down until the consequences of the incident that caused "Bunker mode" are not resolved. For more details,'," ",(0,r.jsx)("a",{href:"#bunkerModeScenarios",onClick:e,children:"see here"}),"."]})},fr=function(){return(0,r.jsxs)(We,{children:["Withdrawals are currently unavailable. For more information,"," ",(0,r.jsx)(je.rUS,{href:"https://twitter.com/lidofinance",children:"see here"})]})},pr=t(6451),Ir=[{token:pr.e.STETH},{token:pr.e.WSTETH}],wr=function(){return(0,r.jsx)(pr.O,{options:Ir})},yr=t(24402),Nr=t(49495),vr=function(e){var n=e.tvlDiff,t=(0,Nr.useRouter)().push,i=function(e){var n=(0,Nr.useRouter)().query,t=n.ref,r=n.embed,i=n.app;return(0,c.useMemo)((function(){var n=new URLSearchParams;Object.entries((0,U.Z)({ref:t,embed:r,app:i},null!==e&&void 0!==e?e:{})).forEach((function(e){var t=(0,T.Z)(e,2),r=t[0],i=t[1];return i&&"string"===typeof i&&n.append(r,i)}));var a=n.toString();return a?"?"+a:""}),[t,r,i,e])}({amount:(0,R.formatEther)(n)});return(0,r.jsx)(je.zxk,{size:"xxs",variant:"translucent","data-testid":"letsStakeBtn",onClick:function(){t("/".concat(i))},children:"Yes, let`s stake"})},Dr=function(){var e=(0,an.qo)({name:"token"}),n=tr(),t=n.maxAmount,i=n.isTokenLocked,a=(0,an.bc)({name:"amount"}).fieldState.error,o=ie(a).balanceDiff;return(0,r.jsx)(yr.J,{fieldName:"amount",token:e,isLocked:i,maxValue:t,onMaxClick:function(){(0,Ht.s)(Ht.A.withdrawalMaxInput)},rightDecorator:o&&(0,r.jsx)(vr,{tvlDiff:o}),showErrorMessage:!1})},Tr=t(24348),zr=function(e){var n=e.children,t=(0,an.cl)({name:"amount"}).errors.amount,i=ie(t).tvlMessage;return(0,r.jsx)(Tr.n,{errorField:"amount",success:i,children:n})};function Ar(){var e=(0,xe.Z)(["\n  display: block;\n"]);return Ar=function(){return e},e}function br(){var e=(0,xe.Z)(["\n  background-color: var(--lido-color-backgroundSecondary);\n  padding: ","px;\n  border-radius: ","px;\n  margin-bottom: ","px;\n"]);return br=function(){return e},e}function Sr(){var e=(0,xe.Z)(["\n  font-size: 12px;\n  line-height: 20px;\n"]);return Sr=function(){return e},e}fe.ZP.a.withConfig({componentId:"sc-53aa939c-0"})(Ar());var Cr=fe.ZP.div.withConfig({componentId:"sc-53aa939c-1"})(br(),(function(e){return e.theme.spaceMap.lg}),(function(e){return e.theme.borderRadiusesMap.lg}),(function(e){return e.theme.spaceMap.md})),kr=fe.ZP.div.withConfig({componentId:"sc-53aa939c-2"})(Sr()),Lr=function(){var e,n,t=(0,an.cl)().errors,i=(0,an.qo)({name:"token"}),a=ir().requests,o=tr(),s=o.maxAmountPerRequestSteth,u=o.maxAmountPerRequestWSteth;if((null===(e=t.amount)||void 0===e?void 0:e.type)===K.type)return(0,r.jsx)(Cr,{children:(0,r.jsx)(kr,{children:t.amount.message})});var c=null!==(n=null===a||void 0===a?void 0:a.length)&&void 0!==n?n:0,l=i===v.eT.STETH?s:u;return c<=1||!l?null:(0,r.jsx)(Cr,{children:(0,r.jsxs)(kr,{children:["Your amount will be split into ",c," requests because"," ",(0,r.jsx)(on.o5,{amount:l,symbol:(0,V.T)(i)})," is the maximum amount per one request. Although it will be ",c," ","requests, you will pay one transaction fee."]})})},Er=t(25362),Zr=t(50338),Or=1e5,Pr=M.O$.from(Or),Ur=function(){var e=(0,l.Z)((function(e){var n,t,r,i;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:if(n=e.amount,t=e.token,!n||!n.gt(N._Y))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,Zr.V)(n,t,"ETH")];case 2:return r=a.sent(),[2,(0,U.Z)({name:"openOcean"},r)];case 3:return i=a.sent(),console.warn("[getOpenOceanRate] Failed to receive withdraw rate",i),[3,4];case 4:return[2,{name:"openOcean",rate:null,toReceive:null}]}}))}));return function(n){return e.apply(this,arguments)}}(),Yr=function(){var e=(0,l.Z)((function(e){var n,t,r,i,a,o,s,u,c;return(0,d.__generator)(this,(function(l){switch(l.label){case 0:n=e.amount,t=e.token,l.label=1;case 1:return l.trys.push([1,3,,4]),n.isZero()||n.isNegative()?[2,{name:"paraswap",rate:0,toReceive:M.O$.from(0)}]:(i=n,"https://apiv5.paraswap.io/prices",a=new URLSearchParams({srcToken:(0,v.DT)(Er.zG.Mainnet,t),srcDecimals:"18",destToken:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",destDecimals:"18",side:"SELL",excludeDirectContractMethods:"true",userAddress:"0x0000000000000000000000000000000000000000",amount:i.toString(),network:"1",partner:"lido"}),o="".concat("https://apiv5.paraswap.io/prices","?").concat(a.toString()),[4,(0,ue.x)(o)]);case 2:return s=l.sent(),r=function(e,n,t){var r=t.mul(Pr).div(n),i=e.mul(t).div(n);return{rate:r.toNumber()/Or,toReceive:i}}(n,M.O$.from(s.priceRoute.srcAmount),M.O$.from(s.priceRoute.destAmount)),[3,4];case 3:return l.sent(),r=null,[3,4];case 4:return[2,{name:"paraswap",rate:null!==(u=null===r||void 0===r?void 0:r.rate)&&void 0!==u?u:null,toReceive:null!==(c=null===r||void 0===r?void 0:r.toReceive)&&void 0!==c?c:null}]}}))}));return function(n){return e.apply(this,arguments)}}(),Qr=function(){var e=(0,l.Z)((function(e){var n;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return[4,Promise.all([Ur(e),Yr(e)])];case 1:return(n=t.sent()).length>1&&n.sort((function(e,n){var t,r,i=null!==(t=e.rate)&&void 0!==t?t:0,a=null!==(r=n.rate)&&void 0!==r?r:0;return i==a?e.name<n.name?-1:e.name>n.name?1:0:a-i})),[2,n]}}))}));return function(n){return e.apply(this,arguments)}}(),qr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.fallbackValue,t=void 0===n?N._Y:n,r=(0,T.Z)((0,an.qo)({name:["token","amount"]}),2),i=r[0],a=r[1],o=null!==a&&void 0!==a?a:t,s=(0,lt.c)(o,1e3),u=(0,z.p)(["swr:withdrawal-rates",s,i],(function(e,n,t){return Qr({amount:n,token:t})}),(0,Y.Z)((0,U.Z)({},A.wd),{isPaused:function(){return!s||!s._isBigNumber}})),l=(0,c.useMemo)((function(){var e,n,t;return null!==(t=null===(e=u.data)||void 0===e||null===(n=e[0])||void 0===n?void 0:n.rate)&&void 0!==t?t:null}),[u.data]);return{amount:o,bestRate:l,selectedToken:i,data:u.data,get initialLoading(){return u.initialLoading||!s.eq(o)},get loading(){return u.loading||!s.eq(o)},get error(){return u.error},update:u.update}},Rr=t(89451),Hr=t(22367);var Wr=t(8246);function Fr(){var e=(0,xe.Z)(["\n  display: block;\n"]);return Fr=function(){return e},e}function Gr(){var e=(0,xe.Z)(["\n  display: block;\n"]);return Gr=function(){return e},e}function Br(){var e=(0,xe.Z)(["\n  display: block;\n"]);return Br=function(){return e},e}function Vr(){var e=(0,xe.Z)(["\n  display: flex;\n  align-items: center;\n"]);return Vr=function(){return e},e}function _r(){var e=(0,xe.Z)(["\n  width: 100%;\n  min-height: 82px;\n  // we need to update lido ui\n  background-color: ",";\n  border-radius: ","px;\n\n  padding: 16px 20px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 16px;\n\n  margin-bottom: 16px;\n\n  color: var(--lido-color-text);\n  font-weight: 400;\n  font-size: 14px;\n"]);return _r=function(){return e},e}function Jr(){var e=(0,xe.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-left: auto;\n"]);return Jr=function(){return e},e}function Xr(){var e=(0,xe.Z)(["\n  font-size: 14px;\n  line-height: 24px;\n  font-weight: 700;\n  color: var(--lido-color-text);\n"]);return Xr=function(){return e},e}function $r(){var e=(0,xe.Z)(["\n  display: flex;\n  gap: 16px;\n  align-items: stretch;\n  justify-content: space-between;\n  margin-bottom: 16px;\n"]);return $r=function(){return e},e}function Kr(){var e=(0,xe.Z)(["\n  flex: 1 0;\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  // we need to update lido ui\n  background-color: ",";\n\n  border-radius: ","px;\n  border: 1px solid var(--lido-color-border);\n  position: relative;\n  cursor: pointer;\n\n  border-color: ",";\n  padding: 16px 20px;\n  font-size: 12px;\n  font-family: inherit;\n  color: var(--lido-color-text);\n\n  /* safari workaround */\n  &:focus {\n    outline: none;\n    ::before {\n      content: '';\n      pointer-events: none;\n      position: absolute;\n      top: -2px;\n      right: -2px;\n      bottom: -2px;\n      left: -2px;\n\n      border: 1px solid var(--lido-color-borderActive);\n      border-radius: ","px;\n    }\n  }\n\n  & > :first-child {\n    margin-bottom: 12px;\n  }\n"]);return Kr=function(){return e},e}function ei(){var e=(0,xe.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  width: 100%;\n  gap: 8px;\n  line-height: 20px;\n  text-align: right;\n  "," {\n    flex-direction: column;\n    text-align: center;\n  }\n"]);return ei=function(){return e},e}function ni(){var e=(0,xe.Z)(["\n  color: var(--color-text);\n  font-weight: 700;\n  text-align: left;\n  "," {\n    text-align: center;\n  }\n"]);return ni=function(){return e},e}function ti(){var e=(0,xe.Z)(["\n  color: var(--lido-color-textSecondary);\n  line-height: 20px;\n  text-align: left;\n  "," {\n    text-align: center;\n  }\n"]);return ti=function(){return e},e}function ri(){var e=(0,xe.Z)(["\n  display: flex;\n  justify-content: end;\n\n  & > * {\n    box-sizing: content-box;\n    width: 20px;\n    height: 20px;\n    border-radius: 100%;\n    border: 1px solid var(--lido-color-backgroundSecondary);\n    background-color: var(--lido-color-backgroundSecondary);\n    margin: -1px 0 -1px -8px;\n    &:first-child {\n      margin-left: 0px;\n    }\n    filter: ",";\n  }\n"]);return ri=function(){return e},e}function ii(){var e=(0,xe.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]);return ii=function(){return e},e}function ai(){var e=(0,xe.Z)(["\n  width: 100%;\n  min-height: 82px;\n  // we need to update lido ui\n  background-color: ",";\n  border-radius: ","px;\n  padding: 16px 20px;\n\n  display: grid;\n  gap: 5px 16px;\n  grid-template: 1fr 1fr / 44px max-content;\n\n  & > svg,\n  & > img {\n    grid-row: 1 / 3;\n    grid-column: 1 / 1;\n    align-self: center;\n    width: 44px;\n    filter: ",";\n  }\n"]);return ai=function(){return e},e}function oi(){var e=(0,xe.Z)(["\n  display: block;\n  width: 100%;\n  min-height: 82px;\n  border-radius: ","px;\n"]);return oi=function(){return e},e}function si(){var e=(0,xe.Z)(["\n  grid-row: 1;\n  grid-column: 2;\n  color: var(--lido-color-text);\n  font-weight: 400;\n  font-size: 14px;\n"]);return si=function(){return e},e}function ui(){var e=(0,xe.Z)(["\n  grid-row: 2;\n  grid-column: 2;\n  &::after {\n    content: ' ';\n    display: inline-block;\n    background: url(",") center / contain no-repeat;\n    width: 12px;\n    height: 12px;\n    margin-left: 8px;\n    margin-bottom: -1px;\n  }\n"]);return ui=function(){return e},e}function ci(){var e=(0,xe.Z)(["\n  grid-row: 1 / 3;\n  grid-column: 3;\n  width: 100%;\n  justify-self: end;\n  align-self: center;\n  text-align: end;\n\n  color: var(--lido-color-text);\n  font-weight: 700;\n  font-size: 14px;\n"]);return ci=function(){return e},e}function li(){var e=(0,xe.Z)(["\n  max-width: 74px;\n"]);return li=function(){return e},e}function di(){var e=(0,xe.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: ","px;\n  font-weight: 400;\n  font-size: ","px;\n  // we need to update lido ui\n  background-color: ",";\n  border-radius: ","px;\n\n  svg {\n    display: block;\n    margin-right: ","px;\n  }\n"]);return di=function(){return e},e}var Mi,hi=fe.ZP.img.attrs({src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDUiIGhlaWdodD0iNDQiIHZpZXdCb3g9IjAgMCA0NSA0NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIyLjAwMSA0NC4wMDFDMzQuMTUxOCA0NC4wMDEgNDQuMDAyIDM0LjE1MDggNDQuMDAyIDIyQzQ0LjAwMiA5Ljg0OTIxIDM0LjE1MTggLTAuMDAwOTc2NTYyIDIyLjAwMSAtMC4wMDA5NzY1NjJDOS44NTAxOSAtMC4wMDA5NzY1NjIgMCA5Ljg0OTIxIDAgMjJDMCAzNC4xNTA4IDkuODUwMTkgNDQuMDAxIDIyLjAwMSA0NC4wMDFaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjIgMjQuOTg1OUwxNC41MDcxIDIwLjcwNTlMMTQuMzAyNSAyMS4wMTk4QzExLjk5NDcgMjQuNTYgMTIuNTEwMSAyOS4xOTYzIDE1LjU0MTcgMzIuMTY2N0MxOS4xMDkgMzUuNjYyMSAyNC44OTI5IDM1LjY2MjEgMjguNDYwMiAzMi4xNjY3QzMxLjQ5MTggMjkuMTk2MyAzMi4wMDcyIDI0LjU2IDI5LjY5OTQgMjEuMDE5OEwyOS40OTQ3IDIwLjcwNThMMjIgMjQuOTg1OVoiIGZpbGw9InVybCgjcGFpbnQwX3JhZGlhbF8xMjkzXzI3NDcyKSIvPgo8cGF0aCBvcGFjaXR5PSIwLjYiIGQ9Ik0yMi4wMDk3IDE1LjQyNzVMMTUuNTUwOCAxOS4xMjA3TDIyLjAwOTcgMjIuODA5M0wyOC40NjQgMTkuMTIwOEwyMi4wMDk3IDE1LjQyNzVaIiBmaWxsPSJ1cmwoI3BhaW50MV9yYWRpYWxfMTI5M18yNzQ3MikiLz4KPHBhdGggZD0iTTIyLjAxNzUgMTYuMzkxOEwxNC41MTIyIDIwLjcxMDRMMjIuMDAwNyAyNC45OTIzTDI5LjQ5NjMgMjAuNzA5TDIyLjAxNzUgMTYuMzkxOFoiIGZpbGw9InVybCgjcGFpbnQyX2RpYW1vbmRfMTI5M18yNzQ3MikiLz4KPHBhdGggZD0iTTIyLjAwOTcgOS4yMTUzM0wxNS41NTA4IDE5LjExOUwyMi4wMDk3IDIyLjgwNzVWOS4yMTUzM1oiIGZpbGw9InVybCgjcGFpbnQzX2xpbmVhcl8xMjkzXzI3NDcyKSIvPgo8cGF0aCBkPSJNMjIuMDA4MyAyMi44MDk2TDI4LjQ2NzggMTkuMTIwNUwyMi4wMDg3IDkuMjExOTFMMjIuMDA4MyAyMi44MDk2WiIgZmlsbD0idXJsKCNwYWludDRfbGluZWFyXzEyOTNfMjc0NzIpIi8+CjxkZWZzPgo8cmFkaWFsR3JhZGllbnQgaWQ9InBhaW50MF9yYWRpYWxfMTI5M18yNzQ3MiIgY3g9IjAiIGN5PSIwIiByPSIxIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSgyMS45OTI4IDM0Ljc5NDcpIHJvdGF0ZSgtOTApIHNjYWxlKDEyLjE1ODggMTUuODkwOSkiPgo8c3RvcCBvZmZzZXQ9IjAuMjAzNjk1IiBzdG9wLWNvbG9yPSIjNTZGMkZGIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzRBOENFQSIvPgo8L3JhZGlhbEdyYWRpZW50Pgo8cmFkaWFsR3JhZGllbnQgaWQ9InBhaW50MV9yYWRpYWxfMTI5M18yNzQ3MiIgY3g9IjAiIGN5PSIwIiByPSIxIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSgyMi4wMDc0IDE5LjExODQpIHJvdGF0ZSg5MC4xNjA3KSBzY2FsZSgzLjY4MDkxIDYuOTY4OCkiPgo8c3RvcCBzdG9wLWNvbG9yPSIjRUVGRjgzIi8+CjxzdG9wIG9mZnNldD0iMC42ODk1OTYiIHN0b3AtY29sb3I9IiM1Njk5RUMiLz4KPC9yYWRpYWxHcmFkaWVudD4KPHJhZGlhbEdyYWRpZW50IGlkPSJwYWludDJfZGlhbW9uZF8xMjkzXzI3NDcyIiBjeD0iMCIgY3k9IjAiIHI9IjEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKDIyLjAwNDIgMjAuNjkyMSkgcm90YXRlKDkwLjE2KSBzY2FsZSg0LjI4ODYgOC4wODYzNikiPgo8c3RvcCBzdG9wLWNvbG9yPSIjNTZGMkZGIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzU2OTlFQyIvPgo8L3JhZGlhbEdyYWRpZW50Pgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50M19saW5lYXJfMTI5M18yNzQ3MiIgeDE9IjE4Ljc4MDIiIHkxPSI5LjIxNTMzIiB4Mj0iMTguNzgwMiIgeTI9IjIyLjgwNzUiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agb2Zmc2V0PSIwLjM3NzE3OSIgc3RvcC1jb2xvcj0iI0ZGRTMzNiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMxM0MwQjYiIHN0b3Atb3BhY2l0eT0iMC43Ii8+CjwvbGluZWFyR3JhZGllbnQ+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQ0X2xpbmVhcl8xMjkzXzI3NDcyIiB4MT0iMjUuMjM4MSIgeTE9IjkuMjExOTEiIHgyPSIyNS4yMzgxIiB5Mj0iMjIuODA5NiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBvZmZzZXQ9IjAuNDA4ODE3IiBzdG9wLWNvbG9yPSIjRkY3RjcyIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzI5NzhFRiIgc3RvcC1vcGFjaXR5PSIwLjciLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K",alt:""}).withConfig({componentId:"sc-54039526-0"})(Fr()),gi=fe.ZP.img.attrs({src:Wr.Z,alt:"openOcean"}).withConfig({componentId:"sc-54039526-1"})(Gr()),ji=fe.ZP.img.attrs({src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDUiIGhlaWdodD0iNDUiIHZpZXdCb3g9IjAgMCA0NSA0NSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIyLjAwMSA0NC4wMDJDMzQuMTUxOCA0NC4wMDIgNDQuMDAyIDM0LjE1MTggNDQuMDAyIDIyLjAwMUM0NC4wMDIgOS44NTAxOSAzNC4xNTE4IDAgMjIuMDAxIDBDOS44NTAxOSAwIDAgOS44NTAxOSAwIDIyLjAwMUMwIDM0LjE1MTggOS44NTAxOSA0NC4wMDIgMjIuMDAxIDQ0LjAwMloiIGZpbGw9IiMwQTExMjMiLz4KPHBhdGggZD0iTTM1Ljc1MTYgMzMuMDAxTDIzLjAzMjYgMTFMMTAuMzEzIDMzLjAwMUgzNS43NTE2Wk0xNC4wOTQzIDIxLjMxM0wxOS45Mzg0IDExSDguMjUwMzdMMTQuMDk0MyAyMS4zMTNaTTMwLjU1NzEgMzAuMDg4OEgxNS41MDc5TDIzLjAzMjYgMTcuMDcyNkwzMC41NTcxIDMwLjA4ODhaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",alt:"paraswap"}).withConfig({componentId:"sc-54039526-2"})(Br()),mi=(fe.ZP.div.withConfig({componentId:"sc-54039526-3"})(Vr()),fe.ZP.div.withConfig({componentId:"sc-54039526-4"})(_r(),(function(e){return e.theme.name===je.IxO.light?"#F6F8FA":"#2D2D35"}),(function(e){return e.theme.borderRadiusesMap.lg}))),xi=fe.ZP.div.withConfig({componentId:"sc-54039526-5"})(Jr()),fi=(0,fe.ZP)(on.o5).withConfig({componentId:"sc-54039526-6"})(Xr()),pi=fe.ZP.div.withConfig({componentId:"sc-54039526-7"})($r()),Ii=fe.ZP.button.withConfig({componentId:"sc-54039526-8"})(Kr(),(function(e){return e.theme.name===je.IxO.light?"#F6F8FA":"#2D2D35"}),(function(e){return e.theme.borderRadiusesMap.lg}),(function(e){return e.$active?"#00A3FF":"var(--lido-color-border)"}),(function(e){return e.theme.borderRadiusesMap.lg+1})),wi=fe.ZP.div.withConfig({componentId:"sc-54039526-9"})(ei(),(function(e){return e.theme.mediaQueries.md})),yi=fe.ZP.label.withConfig({componentId:"sc-54039526-10"})(ni(),(function(e){return e.theme.mediaQueries.md})),Ni=fe.ZP.label.withConfig({componentId:"sc-54039526-11"})(ti(),(function(e){return e.theme.mediaQueries.md})),vi=fe.ZP.div.withConfig({componentId:"sc-54039526-12"})(ri(),(function(e){return e.theme.name===je.IxO.light?"drop-shadow(0px 0px 1px rgba(246, 248, 250, 255))":"unset"})),Di=fe.ZP.div.withConfig({componentId:"sc-54039526-13"})(ii()),Ti=fe.ZP.div.withConfig({componentId:"sc-54039526-14"})(ai(),(function(e){return e.theme.name===je.IxO.light?"#F6F8FA":"#2D2D35"}),(function(e){return e.theme.borderRadiusesMap.lg}),(function(e){return e.theme.name===je.IxO.light?"drop-shadow(0px 0px 1px rgba(246, 248, 250, 255))":"unset"})),zi=(0,fe.ZP)(je.GlZ).withConfig({componentId:"sc-54039526-15"})(oi(),(function(e){return e.theme.borderRadiusesMap.lg})),Ai=fe.ZP.span.withConfig({componentId:"sc-54039526-16"})(si()),bi=fe.ZP.a.withConfig({componentId:"sc-54039526-17"})(ui(),"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yLjMzMzMzIDEuNzVDMi4wMTExNyAxLjc1IDEuNzUgMi4wMTExNyAxLjc1IDIuMzMzMzNWOS42NjY2N0MxLjc1IDkuOTg4ODMgMi4wMTExNyAxMC4yNSAyLjMzMzMzIDEwLjI1SDkuNjY2NjdDOS45ODg4MyAxMC4yNSAxMC4yNSA5Ljk4ODgzIDEwLjI1IDkuNjY2NjdWNy42NjY2N0MxMC4yNSA3LjI1MjQ1IDEwLjU4NTggNi45MTY2NyAxMSA2LjkxNjY3QzExLjQxNDIgNi45MTY2NyAxMS43NSA3LjI1MjQ1IDExLjc1IDcuNjY2NjdWOS42NjY2N0MxMS43NSAxMC44MTczIDEwLjgxNzMgMTEuNzUgOS42NjY2NyAxMS43NUgyLjMzMzMzQzEuMTgyNzQgMTEuNzUgMC4yNSAxMC44MTczIDAuMjUgOS42NjY2N1YyLjMzMzMzQzAuMjUgMS4xODI3NCAxLjE4Mjc0IDAuMjUgMi4zMzMzMyAwLjI1SDQuMzMzMzNDNC43NDc1NSAwLjI1IDUuMDgzMzMgMC41ODU3ODYgNS4wODMzMyAxQzUuMDgzMzMgMS40MTQyMSA0Ljc0NzU1IDEuNzUgNC4zMzMzMyAxLjc1SDIuMzMzMzNaTTggMS43NUM3LjU4NTc5IDEuNzUgNy4yNSAxLjQxNDIxIDcuMjUgMUM3LjI1IDAuNTg1Nzg2IDcuNTg1NzkgMC4yNSA4IDAuMjVIMTAuOTk5M0gxMUMxMS40MTQyIDAuMjUgMTEuNzUgMC41ODU3ODYgMTEuNzUgMVY0QzExLjc1IDQuNDE0MjEgMTEuNDE0MiA0Ljc1IDExIDQuNzVDMTAuNTg1OCA0Ljc1IDEwLjI1IDQuNDE0MjEgMTAuMjUgNFYyLjgxMDAxTDYuMTk2MzUgNi44NjM2NkM1LjkwMzQ1IDcuMTU2NTYgNS40Mjg1OCA3LjE1NjU2IDUuMTM1NjkgNi44NjM2NkM0Ljg0Mjc5IDYuNTcwNzcgNC44NDI3OSA2LjA5NTkgNS4xMzU2OSA1LjgwM0w5LjE4ODY5IDEuNzVIOFoiIGZpbGw9IiMwMEEzRkYiLz4KPC9zdmc+Cg=="),Si=fe.ZP.span.withConfig({componentId:"sc-54039526-18"})(ci()),Ci=(0,fe.ZP)(je.GlZ).withConfig({componentId:"sc-54039526-19"})(li()),ki=fe.ZP.div.withConfig({componentId:"sc-54039526-20"})(di(),(function(e){return e.theme.spaceMap.md}),(function(e){return e.theme.fontSizesMap.xs}),(function(e){return e.theme.name===je.IxO.light?"#F6F8FA":"#2D2D35"}),(function(e){return e.theme.borderRadiusesMap.lg}),(function(e){return e.theme.spaceMap.xs})),Li=(0,R.parseEther)("1"),Ei=function(e){var n=e.isActive,t=e.onClick,i=(0,T.Z)((0,an.qo)({name:["amount","token"]}),2),a=i[0],o=i[1]===v.eT.STETH,s=le(a?(0,R.formatEther)(a):"",{isApproximate:!0}),u=s.value,c=s.initialLoading,l=(0,Rr.i)(),d=l.wstethAsStethBN,M=l.loading,h=!o&&M,g=o?"1 : 1":"1 : ".concat((0,Hr.az)(d));return(0,r.jsxs)(Ii,{"data-testid":"lidoOption",type:"button",$active:n,onClick:t,children:[(0,r.jsxs)(wi,{children:[(0,r.jsx)(yi,{children:"Use Lido"}),(0,r.jsx)(vi,{children:(0,r.jsx)(hi,{})})]}),(0,r.jsxs)(wi,{"data-testid":"lidoOptionRate",children:[(0,r.jsx)(Ni,{children:"Rate:"}),h?(0,r.jsx)(Ci,{}):g]}),(0,r.jsxs)(wi,{"data-testid":"lidoOptionWaitingTime",children:[(0,r.jsx)(Ni,{children:"Waiting time:"}),c?(0,r.jsx)(Ci,{}):u]})]})},Zi=function(e){var n,t=e.isActive,i=e.onClick,a=qr({fallbackValue:Li}),o=a.loading,s=a.bestRate,u=s?"1 : ".concat((n=s,(Math.floor(1e4*n)/1e4).toString())):"-";return(0,r.jsxs)(Ii,{"data-testid":"dexOptions",type:"button",$active:t,onClick:i,children:[(0,r.jsxs)(wi,{children:[(0,r.jsx)(yi,{children:"Use aggregators"}),(0,r.jsxs)(vi,{children:[(0,r.jsx)(gi,{}),(0,r.jsx)(ji,{})]})]}),(0,r.jsxs)(wi,{"data-testid":"dexBestRate",children:[(0,r.jsx)(Ni,{children:"Best Rate:"}),o?(0,r.jsx)(Ci,{}):u]}),(0,r.jsxs)(wi,{"data-testid":"dexWaitingTime",children:[(0,r.jsx)(Ni,{children:"Waiting time:"}),"~\xa01-5 minutes"]})]})},Oi=function(e){var n=e.onOptionSelect,t=e.selectedOption;return(0,r.jsxs)(pi,{children:[(0,r.jsx)(Ei,{isActive:"lido"===t,"data-testid":"lidoOption",onClick:function(e){e.preventDefault(),(0,Ht.s)(Ht.A.withdrawalUseLido),null===n||void 0===n||n("lido")}}),(0,r.jsx)(Zi,{isActive:"dex"===t,onClick:function(e){e.preventDefault(),(0,Ht.s)(Ht.A.withdrawalUseAggregators),null===n||void 0===n||n("dex")}})]})},Pi=function(){var e=(0,an.bc)({name:"mode"}).field;return(0,r.jsx)(Oi,{selectedOption:e.value,onOptionSelect:function(n){e.onChange(n),e.onBlur()}})};function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ui.apply(this,arguments)}const Yi=e=>c.createElement("svg",Ui({xmlns:"http://www.w3.org/2000/svg",width:25,height:24,fill:"none"},e),Mi||(Mi=c.createElement("path",{fill:"#FFA276",fillRule:"evenodd",d:"M6.99 18a1.492 1.492 0 0 1-1.277-2.257l5.514-9.02a1.49 1.49 0 0 1 2.556 0l5.504 9.02A1.49 1.49 0 0 1 18.01 18H6.991Zm4.58-8.002a.936.936 0 1 1 1.868.001l-.298 2.403a.641.641 0 0 1-1.28-.001l-.29-2.403ZM12.505 14a1 1 0 1 0 0 2.001 1 1 0 0 0 0-2.001Z",clipRule:"evenodd"})));var Qi=Array.from({length:1}).fill(null),qi={openOcean:{title:"OpenOcean",icon:(0,r.jsx)(gi,{}),onClickGoTo:function(){(0,Ht.s)(Ht.A.withdrawalGoToOpenOcean)},link:function(e,n){return"https://app.openocean.finance/classic?referrer=".concat(Ee.Y,"&amount=").concat((0,R.formatEther)(e),"#/ETH/").concat(n,"/ETH")}},paraswap:{title:"ParaSwap",icon:(0,r.jsx)(ji,{}),onClickGoTo:function(){(0,Ht.s)(Ht.A.withdrawalGoToParaswap)},link:function(e,n){return"https://app.paraswap.io/?referrer=Lido&takeSurplus=true#/".concat((0,v.DT)(Er.zG.Mainnet,n),"-0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE/").concat((0,R.formatEther)(e),"/SELL?network=ethereum")}}},Ri=function(e){var n=e.title,t=e.icon,i=e.url,a=e.toReceive,o=e.loading,s=e.onClickGoTo;return(0,r.jsxs)(Ti,{children:[t,(0,r.jsx)(Ai,{children:n}),(0,r.jsxs)(bi,{href:i,target:"_blank",rel:"noopener noreferrer",onClick:s,children:["Go to ",n]}),(0,r.jsxs)(Si,{children:[o&&!a&&(0,r.jsx)(Ci,{}),a?(0,r.jsx)(st.o,{approx:!0,showAmountTip:!0,amount:null!==a&&void 0!==a?a:M.O$.from(0),symbol:"ETH"}):"-"]})]})},Hi=function(e){var n=qr(),t=n.data,i=n.initialLoading,a=n.loading,o=n.amount,s=n.selectedToken,u=(0,c.useMemo)((function(){return null===t||void 0===t?void 0:t.filter((function(e){var n=e.rate,t=e.name;return qi[t]&&(o.eq("0")||null!==n)}))}),[o,t]);return(0,r.jsxs)(Di,(0,Y.Z)((0,U.Z)({"data-testid":"dexOptionContainer"},e),{children:[i&&Qi.map((function(e,n){return(0,r.jsx)(zi,{},n)})),!i&&(!u||0===u.length)&&(0,r.jsxs)(ki,{children:[(0,r.jsx)(Yi,{}),(0,r.jsx)("div",{children:"Aggregator's prices are not available now"})]}),!i&&(null===u||void 0===u?void 0:u.map((function(e){var n=e.name,t=e.toReceive,i=e.rate,u=qi[n];return(0,r.jsx)(Ri,{title:u.title,icon:u.icon,onClickGoTo:u.onClickGoTo,url:u.link(o,s),loading:a,toReceive:i?t:null},n)})))]}))},Wi=function(){var e=(0,be.S)().navigateInpageAnchor;return(0,r.jsx)(je.ua7,{"data-testid":"lidoOptionToolTip",placement:"topRight",title:(0,r.jsxs)(r.Fragment,{children:["The final amount of claimable ETH can differ",(0,r.jsx)("br",{})," For more info, please read"," ",(0,r.jsx)("a",{"data-testid":"lidoOptionToolTipFAQ",href:"#amountDifferentFromRequested",onClick:function(n){(0,Ht.s)(Ht.A.withdrawalFAQtooltipEthAmount),e(n)},children:"FAQ"})]}),children:(0,r.jsx)(je.HNF,{})})},Fi=function(){var e=(0,T.Z)((0,an.qo)({name:["token","amount"]}),2),n=e[0],t=e[1],i=H({isSteth:n===v.eT.STETH,input:t?(0,R.formatEther)(t):void 0});return(0,r.jsxs)(mi,{"data-testid":"lidoOptionSection",children:[(0,r.jsx)(hi,{}),"Lido",(0,r.jsxs)(xi,{"data-testid":"lidoOptionAmount",children:[(0,r.jsx)(fi,{"data-testid":"lidoOptionAmount",showAmountTip:!0,amount:i,symbol:"ETH"})," ",(0,r.jsx)(Wi,{})]})]})},Gi=t(65418),Bi=function(e){var n=e.loading,t=e.disabled,i=(0,L.J)().isMultisig,a=tr().isTokenLocked,o=a?"Unlock tokens ".concat(i?"for":"and"," withdrawal"):"Request withdrawal";return(0,r.jsx)(Gi.m,{errorField:"amount",loading:n,isLocked:a,disabled:t,"data-testid":"requestButton",children:o})},Vi=t(14847),_i=function(){var e=tr(),n=e.isApprovalFlow,t=e.isApprovalFlowLoading,i=e.allowance,a=(0,an.qo)({name:"token"}),o=ir().requests,s=n?void 0:(0,r.jsx)(r.Fragment,{children:"Lido leverages gasless token approvals via ERC-2612 permits"}),u=function(e){var n,t=e.token,r=e.isApprovalFlow,i=e.requestCount,a=(0,p.e)().chainId,o=m().contractRpc,s="STETH"===t?r?oe.Lb:oe.yU:r?oe.VN:oe.Bl,u=Math.min(i||1,Q.wn),h=(0,lt.c)(u,2e3),g=(0,c.useMemo)((function(){var e=oe.Gm.wqAPIBasePath,n=(0,se.f)({token:t,requestCount:h});return"".concat(e,"/v1/estimate-gas?").concat(n)}),[h,t]),j=(0,z.p)(g,ue.x,(0,Y.Z)((0,U.Z)({},A.wd),{isPaused:function(){return!a||r}})),f=j.data,I=j.initialLoading,w=(0,z.p)(["swr:request-gas-limit",h,a],(0,l.Z)((function(){var e;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),(0,x.Z)(a,"chainId is required"),(0,x.Z)(o,"contractRpc is required"),[4,o.estimateGas.requestWithdrawals(Array.from({length:h}).fill(M.O$.from(100)),oe.mA,{from:oe.mA})];case 1:return[2,n.sent().toNumber()];case 2:return e=n.sent(),console.warn("Could not estimate gas for request",{error:e}),[2,void 0];case 3:return[2]}}))})),(0,Y.Z)((0,U.Z)({},A.wd),{isPaused:function(){return!a||!r}})),y=w.data,N=w.initialLoading,v=null!==(n=r?y:null===f||void 0===f?void 0:f.gasLimit)&&void 0!==n?n:s*h,D=(0,ct.w)(v);return{loading:u!==h||(r?N:I),txPriceUsd:D,gasLimit:v}}({token:a,isApprovalFlow:n,requestCount:null===o||void 0===o?void 0:o.length}),h=u.txPriceUsd,g=u.loading,j=(0,Vi.K)(),f=(0,k.w2)(j&&Number(j)),I=(0,c.useMemo)((function(){return i.eq(N.Bz)}),[i]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(je.UkV,{"data-testid":"maxUnlockCost",help:s,title:"Max unlock cost",loading:t,children:n?(0,r.jsx)(on.$2,{amount:f}):"FREE"}),(0,r.jsx)(je.UkV,{title:"Max transaction cost","data-testid":"maxTxCost",loading:g,children:(0,r.jsx)(on.$2,{amount:h})}),(0,r.jsx)(je.UkV,{"data-testid":"allowance",title:"Allowance",loading:t,children:I?"Infinite":(0,r.jsx)(on.o5,{showAmountTip:!0,amount:i,symbol:(0,V.T)(a)})}),a===v.eT.STETH?(0,r.jsx)(je.UkV,{"data-testid":"exchangeRate",title:"Exchange rate",children:"1 stETH = 1 ETH"}):(0,r.jsx)(Rr.x,{toSymbol:"ETH"})]})},Ji=function(){var e=S(),n=e.isBunker,t=e.isPaused,i=tr().onSubmit,a=function(){var e=S().isPaused,n=(0,an.cl)({name:["requests","amount"]}),t=n.isValidating,r=n.isSubmitting,i=n.errors;return{loading:t||r,disabled:e||!!i.amount&&!(0,B.ZS)(i.amount.type)}}(),o=(0,an.qo)({name:"mode"});return(0,r.jsxs)(je.gOu,{"data-testid":"requestForm",children:[t&&(0,r.jsx)(fr,{}),n&&(0,r.jsx)(xr,{}),(0,r.jsxs)("form",{autoComplete:"off",onSubmit:i,children:[(0,r.jsxs)(zr,{children:[(0,r.jsx)(wr,{}),(0,r.jsx)(Dr,{})]}),"lido"===o&&(0,r.jsx)(Lr,{}),(0,r.jsx)(Pi,{}),"lido"===o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Fi,{}),(0,r.jsx)(Bi,(0,U.Z)({},a)),(0,r.jsx)(_i,{})]}),"dex"===o&&(0,r.jsx)(Hi,{})]})]})},Xi="WithdrawalRequested";function $i(){var e=(0,xe.Z)(["\n  position: relative;\n  height: auto;\n  margin-top: 24px;\n  padding: ","px;\n  background-color: var(--lido-color-backgroundSecondary);\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  text-align: center;\n  border-radius: ","px;\n  overflow: hidden;\n\n  "," {\n    padding: ","px;\n  }\n"]);return $i=function(){return e},e}function Ki(){var e=(0,xe.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 180px;\n"]);return Ki=function(){return e},e}function ea(){var e=(0,xe.Z)(["\n  flex: 0 0 auto;\n  display: block;\n  width: auto;\n  height: 100%;\n  border-radius: ","px;\n\n  "," {\n    margin-right: 8px;\n  }\n"]);return ea=function(){return e},e}function na(){var e=(0,xe.Z)(["\n  position: relative;\n  left: 20px;\n  height: 140%;\n"]);return na=function(){return e},e}function ta(){var e=(0,xe.Z)(["\n  position: relative;\n  margin-top: ","px;\n  width: 100%;\n"]);return ta=function(){return e},e}function ra(){var e=(0,xe.Z)(["\n  margin-top: ","px;\n  line-height: 24px;\n  font-size: 14px;\n"]);return ra=function(){return e},e}var ia=fe.ZP.div.withConfig({componentId:"sc-967047a-0"})($i(),(function(e){return e.theme.spaceMap.xxl}),(function(e){return e.theme.borderRadiusesMap.lg}),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.spaceMap.sm})),aa=fe.ZP.div.withConfig({componentId:"sc-967047a-1"})(Ki()),oa=fe.ZP.img.attrs({alt:""}).withConfig({componentId:"sc-967047a-2"})(ea(),(function(e){return e.theme.borderRadiusesMap.lg}),(function(e){return e.theme.mediaQueries.sm})),sa=(0,fe.ZP)(oa).attrs({src:"/_next/static/media/nft-example.8508f724.png"}).withConfig({componentId:"sc-967047a-3"})(na()),ua=fe.ZP.div.withConfig({componentId:"sc-967047a-4"})(ta(),(function(e){return e.theme.spaceMap.md})),ca=fe.ZP.div.withConfig({componentId:"sc-967047a-5"})(ra(),(function(e){return e.theme.spaceMap.xl})),la=function(e){var n=e.txHash,t=e.tokenName,i=e.amount,a=(0,p.e)().providerWeb3,o=function(e){var n=m(),t=n.contractRpc,r=n.account,i=(0,p.e)().providerWeb3,a=(0,z.p)(r&&e&&i?["swr:nft-data-by-tx-hash",e,r]:null,(0,l.Z)((function(){var n,a,o,s,u;return(0,d.__generator)(this,(function(c){switch(c.label){case 0:return e&&r&&i?[4,i.getTransactionReceipt(e)]:[2,null];case 1:return n=c.sent(),a=t.interface.getEventTopic(Xi),o=n.logs.filter((function(e){return e.topics[0]===a})),s=o.map((function(e){return t.interface.decodeEventLog(Xi,e.data,e.topics)})),u=s.map((function(e){var n=function(){var n=(0,l.Z)((function(){var n;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.tokenURI(Number(e.requestId))];case 1:return n=r.sent(),[4,(0,ue.x)(n)];case 2:return[2,r.sent()]}}))}));return function(){return n.apply(this,arguments)}}();return n()})),[4,Promise.all(u)];case 2:return[2,c.sent()]}}))})));return a}(n),s=o.data,c=o.initialLoading,M=!!(null===a||void 0===a?void 0:a.provider.isMetaMask),h=(0,r.jsxs)("span",{children:["Withdrawal request for ",i," ",t," has been sent.",(0,r.jsx)("br",{}),"Check ",(0,r.jsx)(Ne.S,{href:u.Bs,children:"Claim tab"})," to view your withdrawal requests or view your transaction on"," ",(0,r.jsx)(gt.H,{txHash:null!==n&&void 0!==n?n:void 0,text:"Etherscan",onClick:function(){return(0,Ht.s)(Ht.A.withdrawalEtherscanSuccessTemplate)}})]}),g=c,j=!g&&s&&1===s.length,x=!g&&(!s||1!==s.length);return(0,r.jsx)(Lt,{txHash:n,description:h,title:"Withdrawal request successfully sent",showEtherscan:!1,children:(0,r.jsxs)(ia,{children:[(0,r.jsxs)(aa,{children:[g&&(0,r.jsx)(je.aNw,{}),j&&(0,r.jsx)(oa,{src:s[0].image}),x&&(0,r.jsx)(sa,{})]}),(0,r.jsx)(ca,{children:"Add NFT to your wallet to monitor the\xa0status of\xa0your\xa0request."}),M&&(0,r.jsx)(ua,{children:(0,r.jsx)(je.rUS,{href:"https://help.lido.fi/en/articles/7858367-how-do-i-add-the-lido-nft-to-metamask",onClick:function(){return(0,Ht.s)(Ht.A.withdrawalGuideSuccessTemplate)},children:"This guide will help you to do this."})})]})})},da=function(){var e=(0,I.pX)(),n=(0,c.useMemo)((function(){var n=e.dispatchModalState,t=e.onRetry,i=e.amount,a=e.token,o=e.txHash,s=e.errorText,u=e.dialog,c=e.txStage,l=e.txOperation,d=a?(0,V.T)(a):"",M=i?(0,h.az)(i,4,{adaptive:!0,elipsis:!0}):"",g=i?(0,h.az)(i,18):"",j=(0,Wt.OH)(M,g,(0,r.jsx)("span",{"data-testid":"sendAmount",children:M}));if(u)return(0,r.jsx)(Rt,{onClick:function(){return u.onOk},onClose:u.onClose?function(){var e;n({type:"close_modal"}),null===(e=u.onClose)||void 0===e||e.call(u)}:void 0});var m=(0,r.jsxs)(r.Fragment,{children:["You are now approving ",j," ",d]}),x=(0,r.jsxs)(r.Fragment,{children:["Approving for ",j," ",d]}),f=(0,r.jsxs)(r.Fragment,{children:["You are requesting withdrawal for ",j," ",d]}),p=(0,r.jsxs)(r.Fragment,{children:["Requesting withdrawal for ",j," ",d]});switch(c){case I.qh.SIGN:return function(){switch(l){case I.jL.APPROVE:return(0,r.jsx)(Zt,{title:m,description:x});case I.jL.CONTRACT:return(0,r.jsx)(Zt,{title:f,description:p});case I.jL.PERMIT:return(0,r.jsx)(Ot,{});default:return null}}();case I.qh.BLOCK:return function(){var e="Awaiting block confirmation";switch(l){case I.jL.APPROVE:return(0,r.jsx)(kt,{txHash:o,title:m,description:e});case I.jL.CONTRACT:return(0,r.jsx)(kt,{txHash:o,title:f,description:e});default:return null}}();case I.qh.SUCCESS:return(0,r.jsx)(la,{txHash:o,tokenName:d,amount:j});case I.qh.SUCCESS_MULTISIG:return(0,r.jsx)(Et,{});case I.qh.FAIL:return(0,r.jsx)(qt,{failedText:s,onClick:null!==t&&void 0!==t?t:void 0});default:return null}}),[e]);return(0,r.jsx)(ht,{open:e.isModalOpen,onClose:function(){return e.dispatchModalState({type:"close_modal"})},txStage:e.txStage,children:n})},Ma=function(){var e=tr().balanceSteth,n=(0,r.jsx)(on.o5,{showAmountTip:!0,amount:e,symbol:"stETH","data-testid":"stEthBalance"});return(0,r.jsx)(Ue.gX,{small:!0,title:"stETH Balance",loading:!e,value:n})},ha=function(){var e=tr().balanceWSteth,n=(0,k.$u)(e),t=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(on.o5,{"data-testid":"wstEthBalance",amount:e,symbol:"wstETH"}),(0,r.jsxs)(je.xvT,{size:"xxs",color:"secondary",children:["\u2248"," ",(0,r.jsx)(on.o5,{"data-testid":"wstEthBalanceOption",amount:n,symbol:"ETH"})]})]});return(0,r.jsx)(Ue.gX,{small:!0,title:"wstETH Balance",loading:!e||!n,value:t})};function ga(){var e=(0,xe.Z)(["\n  margin-top: ","px;\n  color: var(--lido-color-accentContrast);\n"]);return ga=function(){return e},e}function ja(){var e=(0,xe.Z)(["\n  margin: 0 0;\n  div {\n    color: var(--lido-color-accentContrast);\n    font-size: 10px;\n  }\n\n  span {\n    --loader-color: var(--lido-color-accentContrast);\n  }\n"]);return ja=function(){return e},e}var ma=fe.ZP.div.withConfig({componentId:"sc-1006a6a8-0"})(ga(),(function(e){return e.theme.spaceMap.md})),xa=(0,fe.ZP)(je.UkV).withConfig({componentId:"sc-1006a6a8-1"})(ja()),fa=function(){var e=le(""),n=tr().unfinalizedStETH,t=(0,be.S)().navigateInpageAnchor,i=(0,r.jsxs)(ma,{children:[(0,r.jsx)(xa,{"data-testid":"modeTooltipAmount",title:"Amount",loading:!n,children:(0,r.jsx)(on.o5,{amount:n,symbol:"stETH"})}),(0,r.jsx)(xa,{title:"Waiting time","data-testid":"modeTooltipWaitingTime",loading:e.initialLoading,children:e.value})]}),a=(0,r.jsxs)(r.Fragment,{children:["The withdrawal request time depends on the mode, overall amount of stETH in queue and"," ",(0,r.jsx)("a",{href:"#withdrawalsPeriod","data-testid":"otherFactorsLink",onClick:function(e){(0,Ht.s)(Ht.A.withdrawalOtherFactorsTooltipMode),t(e)},children:"other factors"}),".",i]});return(0,r.jsx)(je.ua7,{placement:"bottom",title:a,children:(0,r.jsx)(je.HNF,{})})},pa=function(){var e=S(),n=e.withdrawalsStatus,t=e.isBunker,i=e.isTurbo,a=e.isWithdrawalsStatusLoading,o=e.isPaused?"Paused":t?"Bunker":i?"Turbo":"-",s=(0,r.jsx)($e,{variant:n,children:o}),u=(0,r.jsxs)(r.Fragment,{children:["Withdrawals mode ",(0,r.jsx)(fa,{})]});return(0,r.jsx)(Ue.gX,{small:!0,"data-testid":"withdrawalsMode",title:u,loading:a,value:s})},Ia=function(){var e=(0,p.e)().account,n=(0,an.qo)({name:"token"})===v.eT.STETH;return(0,r.jsxs)(Qe,{"data-testid":"requestCardSection",children:[(0,r.jsxs)(Ue.lS,{children:[n?(0,r.jsx)(Ma,{}):(0,r.jsx)(ha,{}),(0,r.jsx)(Ue.B8,{account:e})]}),(0,r.jsx)(je.izJ,{}),(0,r.jsxs)(Ue.lS,{children:[(0,r.jsx)(nn,{}),(0,r.jsx)(pa,{})]})]})},wa=(0,c.memo)((function(e){return(0,j.$6)().active?(0,r.jsx)(Ia,(0,U.Z)({},e)):(0,r.jsx)(Ue.NY,(0,U.Z)({},e))})),ya=function(){return(0,r.jsx)(I.ik,{children:(0,r.jsxs)(ar,{children:[(0,r.jsx)(wa,{}),(0,r.jsx)(Ji,{}),(0,r.jsx)(mr,{}),(0,r.jsx)(da,{})]})})},Na=t(45430),va=[{path:u.Qk,name:"Request"},{path:u.Bs,name:"Claim"}],Da=function(){var e=S().isClaimTab;return(0,r.jsxs)(Me,{children:[(0,r.jsx)(o.rs,{checked:e,routes:va}),(0,r.jsx)(Na.f,{}),e?(0,r.jsx)($t,{}):(0,r.jsx)(ya,{})]})},Ta=t(23512),za=!0,Aa=function(e){var n=e.mode,t=(0,Ta.c)();return(0,r.jsxs)(o.Ar,{title:"Withdrawals",subtitle:"Request stETH/wstETH withdrawal and claim ETH",children:[(0,r.jsx)(a(),{children:(0,r.jsx)("title",{children:"Withdrawals | Lido"})}),(0,r.jsx)(C,{mode:n,children:(0,r.jsx)(s.Z,{children:(0,r.jsx)(Da,{},t)})})]})}},50338:function(e,n,t){t.d(n,{V:function(){return g}});var r=t(47568),i=t(10092),a=t(64972),o=t(25362),s=t(23019),u=t(43741),c=t(93655),l=1e5,d=s.O$.from(l),M=function(e,n,t){return{rate:t.mul(d).div(n).toNumber()/l,toReceive:e.eq(n)?t:e.mul(t).div(n)}},h=function(e){return"ETH"===e?"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE":(0,a.DT)(o.zG.Mainnet,e)},g=function(){var e=(0,r.Z)((function(e,n,t){var r,a,o,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r="https://open-api.openocean.finance/v3/1",[4,(0,u.x)("".concat(r,"/gasPrice"))];case 1:return a=i.sent(),o=new URLSearchParams({inTokenAddress:h(n),outTokenAddress:h(t),gasPrice:a.without_decimals.standard.legacyGasPrice,amount:(0,c.formatEther)(e)}),[4,(0,u.x)("".concat(r,"/quote?").concat(o.toString()))];case 2:return l=i.sent(),[2,M(e,s.O$.from(l.data.inAmount),s.O$.from(l.data.outAmount))]}}))}));return function(n,t,r){return e.apply(this,arguments)}}()}}]);