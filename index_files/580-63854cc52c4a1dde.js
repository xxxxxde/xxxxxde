"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[580],{90482:function(t,e,n){n.d(e,{$o:function(){return h},Bi:function(){return d},Kn:function(){return m}});var r=n(47568),a=n(51438),s=n(28668),i=n(25892),o=n(91224),u=n(10092),c=n(16092),l=n(78340),d=function(t){return t.mul(l.g8*l.cB).div(l.cB)},m=function(){var t=(0,r.Z)((function(t,e){var n;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),(0,c.isAddress)(t)?[2,t]:[4,e.resolveName(t)];case 1:return(n=r.sent())?[2,n]:[3,3];case 2:return r.sent(),[3,3];case 3:throw new p}}))}));return function(e,n){return t.apply(this,arguments)}}(),p=function(t){(0,s.Z)(n,t);var e=(0,o.Z)(n);function n(){var t;(0,a.Z)(this,n);var r="execution reverted: INVALID_REFERRAL";return(t=e.call(this,r)).reason=r,t}return n}((0,i.Z)(Error)),h=function(t){(0,s.Z)(n,t);var e=(0,o.Z)(n);function n(t){var r;return(0,a.Z)(this,n),(r=e.call(this,t)).reason="execution reverted: STAKE_LIMIT",r}return n}((0,i.Z)(Error))},76279:function(t,e,n){n.d(e,{a:function(){return i},x:function(){return s}});var r=n(57370),a=n(97590),s=function(t){switch(t){case r.qh.SIGN:return a.qh.SIGN;case r.qh.BLOCK:return a.qh.BLOCK;case r.qh.FAIL:return a.qh.FAIL;case r.qh.SUCCESS:return a.qh.SUCCESS;case r.qh.SUCCESS_MULTISIG:return a.qh.SUCCESS_MULTISIG;case r.qh.NONE:return a.qh.IDLE}},i=function(t){return t===r.jL.APPROVE?a.jL.APPROVING:a.jL.WRAPPING}},32580:function(t,e,n){n.r(e),n.d(e,{__N_SSG:function(){return pe},default:function(){return he}});var r=n(58308),a=n(38544),s=n.n(a),i=n(14740),o=n(46252),u=n(26042),c=n(69396),l=n(33472),d=n(40973),m=n(64972),p=n(51173),h=n(84761),f=n(16651),x=n(89203),v=n(47650),w=n(36360),T=n(4200),E=n(86307),g=n(7297),j=n(87588);function H(){var t=(0,g.Z)(["\n  background: linear-gradient(52.01deg, #1b3349 0%, #25697e 100%);\n"]);return H=function(){return t},t}var b=(0,j.ZP)(E.Zb).withConfig({componentId:"sc-bca23d49-0"})(H()),y=n(45043),k=function(t){var e=(0,p.e)().account,n=(0,h.s)(void 0,y.wd),a=(0,f.DS)(y.wd),s=(0,f.b$)(y.wd),o=(0,x.x)(m.eT.STETH),l=(0,x.x)(m.eT.WSTETH),v=(0,T.DE)(a.data),g=(0,T.$u)(s.data);return(0,r.jsxs)(b,(0,c.Z)((0,u.Z)({"data-testid":"wrapCardSection"},t),{children:[(0,r.jsxs)(E.lS,{children:[(0,r.jsx)(E.gX,{title:"ETH Balance",loading:n.initialLoading,value:(0,r.jsx)(w.o5,{"data-testid":"ethBalance",showAmountTip:!0,amount:n.data,symbol:"ETH"})}),(0,r.jsx)(E.B8,{account:e})]}),(0,r.jsx)(d.izJ,{}),(0,r.jsxs)(E.lS,{children:[(0,r.jsx)(E.gX,{small:!0,title:"stETH Balance",loading:a.initialLoading,value:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w.o5,{"data-testid":"stEthBalance",showAmountTip:!0,amount:a.data,symbol:"stETH"}),(0,r.jsx)(i.sW,{"data-testid":"addStethToWalletBtn",address:o}),(0,r.jsxs)(d.xvT,{size:"xxs",color:"secondary",children:["\u2248"," ",(0,r.jsx)(w.o5,{"data-testid":"wstEthBalanceOption",amount:v,symbol:"wstETH"})]})]})}),(0,r.jsx)(E.gX,{small:!0,title:"wstETH Balance",loading:s.initialLoading,value:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w.o5,{"data-testid":"wstEthBalance",showAmountTip:!0,amount:s.data,symbol:"wstETH"}),(0,r.jsx)(i.sW,{"data-testid":"addWstethToWalletBtn",address:l}),(0,r.jsxs)(d.xvT,{size:"xxs",color:"secondary",children:["\u2248"," ",(0,r.jsx)(w.o5,{"data-testid":"stethBalanceOption",amount:g,symbol:"stETH"})]})]})})]})]}))},S=(0,l.memo)((function(t){return(0,v.$6)().active?(0,r.jsx)(k,(0,u.Z)({},t)):(0,r.jsx)(E.NY,(0,u.Z)({},t))})),Z=n(10253),L=n(93655),A=n(87536),C=(0,n(14924).Z)({ETH:"ETH"},m.eT.STETH,m.eT.STETH),W=n(14847),_=n(82591),I=n(90678),F=n(47568),U=n(10092),M=n(1124),P=n(22402),B=n(23019),D=n(25362),R=n(78340),G=n(87785),N=n(90482),$=n(61745),O=n(67568),q=function(){var t=(0,$.J)(),e=t.isMultisig,n=t.isLoading,r=(0,h.s)(void 0,y.wd),a=r.data,s=r.update,i=(0,f.DS)(y.wd),o=i.data,u=i.update,c=(0,f.b$)(y.wd),d=c.data,m=c.update,p=(0,T.Dy)(),x=p.data,w=p.mutate,E=function(){var t=(0,M.Z3)(),e=(0,v.$6)().chainId,n=(0,G.k)().staticRpcProvider,r=(0,P.p)(["[swr:wrap-gas-limit]",e],function(){var e=(0,F.Z)((function(e,r){var a,s,i,o,u;return(0,U.__generator)(this,(function(c){switch(c.label){case 0:return r?(a=function(){var r=(0,F.Z)((function(){var r;return(0,U.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,n.estimateGas({from:R.mA,to:t.address,value:R.eg})];case 1:return[2,a.sent()];case 2:return r=a.sent(),console.warn("".concat(e,"::[eth]"),r),[2,(0,N.Bi)(B.O$.from(R.mw))];case 3:return[2]}}))}));return function(){return r.apply(this,arguments)}}(),s=function(){var n=(0,F.Z)((function(){var n;return(0,U.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t.estimateGas.wrap(R.eg,{from:R.mA})];case 1:return[2,a.sent()];case 2:return n=a.sent(),console.warn("".concat(e,"::[steth]"),n),[2,B.O$.from(r===D.zG.Goerli?R._4:R.f8)];case 3:return[2]}}))}));return function(){return n.apply(this,arguments)}}(),[4,Promise.all([a(),s()])]):[2];case 1:return i=Z.Z.apply(void 0,[c.sent(),2]),o=i[0],u=i[1],[2,{gasLimitETH:o,gasLimitStETH:u}]}}))}));return function(t,n){return e.apply(this,arguments)}}()).data;return{gasLimitETH:(null===r||void 0===r?void 0:r.gasLimitETH)||B.O$.from(R.mw),gasLimitStETH:(null===r||void 0===r?void 0:r.gasLimitStETH)||e===D.zG.Goerli?B.O$.from(R._4):B.O$.from(R.f8)}}(),g=E.gasLimitETH,j=E.gasLimitStETH,H=(0,O.I)({balance:a,limit:null===x||void 0===x?void 0:x.currentStakeLimit,isPadded:!e,gasLimit:g,padding:R.IP,isLoading:n}),b=(0,l.useCallback)((0,F.Z)((function(){return(0,U.__generator)(this,(function(t){switch(t.label){case 0:return[4,Promise.allSettled([s(),u(),m(),w()])];case 1:return t.sent(),[2]}}))})),[s,u,m,w]);return(0,l.useMemo)((function(){return{isMultisig:e,ethBalance:a,stethBalance:o,stakeLimitInfo:x,wstethBalance:d,revalidateWrapFormData:b,gasLimitETH:g,gasLimitStETH:j,maxAmountETH:H,maxAmountStETH:o}}),[e,a,o,x,d,b,g,j,H])},V=n(4699),Y=function(){var t=(0,F.Z)((function(t){var e,n;return(0,U.__generator)(this,(function(r){switch(r.label){case 0:return[4,(0,V.I)(t)];case 1:return e=r.sent(),n=e.maxFeePerGas,[2,{maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:n}]}}))}));return function(e){return t.apply(this,arguments)}}(),z=n(57370),Q=n(25663),J=n(94042),K=function(t){var e=t.approvalData,n=t.onConfirm,r=(0,v.$6)().account,a=(0,p.e)().providerWeb3,s=(0,z.pX)().dispatchModalState,i=function(){var t=(0,p.e)(),e=t.chainId,n=t.providerWeb3,r=(0,G.k)().staticRpcProvider,a=(0,M.Fk)();return(0,l.useCallback)(function(){var t=(0,F.Z)((function(t){var s,i,o,c,l,d,p,h,f,x,v,w;return(0,U.__generator)(this,(function(T){switch(T.label){case 0:return s=t.isMultisig,i=t.amount,o=t.token,(0,_.Z)(i,"amount id must be presented"),(0,_.Z)(e,"chain id must be presented"),(0,_.Z)(n,"providerWeb3 must be presented"),(0,_.Z)(a,"wstethContractWeb3 must be presented"),o!==m.eT.STETH?[3,5]:s?[4,a.populateTransaction.wrap(i)]:[3,2];case 1:return c=T.sent(),[2,n.getSigner().sendUncheckedTransaction(c)];case 2:return l=a.wrap,d=[i],[4,Y(r)];case 3:return[2,l.apply(a,d.concat(T.sent()))];case 4:return[3,9];case 5:return p=(0,m.DT)(e,m.eT.WSTETH),s?[2,n.getSigner().sendUncheckedTransaction({to:p,value:i})]:[3,6];case 6:return[4,a.signer.estimateGas({to:p,value:i})];case 7:return h=T.sent(),f=(0,N.Bi)(h),v=(x=a.signer).sendTransaction,w=[{to:p,value:i,gasLimit:f}],[4,Y(r)];case 8:return[2,v.apply(x,[u.Z.apply(void 0,w.concat(T.sent()))])];case 9:return[2]}}))}));return function(e){return t.apply(this,arguments)}}(),[e,n,r,a])}(),o=e.isApprovalNeededBeforeWrap,c=e.processApproveTx;return(0,l.useCallback)(function(){var t=(0,F.Z)((function(t){var e,u,l,d,m;return(0,U.__generator)(this,(function(p){switch(p.label){case 0:e=t.amount,u=t.token,(0,_.Z)(e,"amount should be presented"),(0,_.Z)(r,"address should be presented"),(0,_.Z)(a,"provider should be presented"),p.label=1;case 1:return p.trys.push([1,9,,10]),s({type:"start",operation:o?z.jL.APPROVE:z.jL.CONTRACT,token:u,amount:e}),[4,(0,J.T)(r,a)];case 2:return l=p.sent(),o?[4,c({onTxSent:function(t){l||s({type:"block",txHash:"string"===typeof t?t:t.hash,operation:z.jL.APPROVE})}})]:[3,4];case 3:if(p.sent(),l)return s({type:"success_multisig"}),[2,!0];s({type:"signing",operation:z.jL.CONTRACT}),p.label=4;case 4:return[4,(0,Q.J6)("Wrap signing",(function(){return i({amount:e,token:u,isMultisig:l})}))];case 5:return d=p.sent(),l?(s({type:"success_multisig"}),[2,!0]):"object"!==typeof d?[3,7]:(s({type:"block",txHash:d.hash}),[4,(0,Q.J6)("Wrap block confirmation",(function(){return d.wait()}))]);case 6:p.sent(),p.label=7;case 7:return[4,null===n||void 0===n?void 0:n()];case 8:return p.sent(),s({type:"success"}),[2,!0];case 9:return m=p.sent(),console.warn(m),s({type:"error",errorText:(0,Q.e$)(m)}),[2,!1];case 10:return[2]}}))}));return function(e){return t.apply(this,arguments)}}(),[r,a,s,o,c,i,n])},X=n(30848),tt=n(42962),et=n(63373),nt=n(86839),rt=n(84151),at=n(56769),st=n(99389),it=n(23599),ot=n(63350),ut=function(){var t=(0,F.Z)((function(t,e){var n,r,a,s,i,o,u,c,l,d;return(0,U.__generator)(this,(function(m){switch(m.label){case 0:n=t.amount,r=t.token,m.label=1;case 1:return m.trys.push([1,3,,4]),(0,_.Z)(e,"validation context must be presented as context promise"),(0,et.m)("amount",n,r),[4,(0,st.H)(e,it.G3)];case 2:return a=m.sent(),s=a.active,i=a.maxAmountETH,o=a.maxAmountStETH,u=a.stakeLimitLevel,r===C.ETH&&(0,ot.B)("amount",u),s&&(c=r===C.STETH,l=c?o:i,(0,_.Z)(l,"maxAmount must be presented"),(0,nt.k)("amount",n,l,function(t,e){return"".concat((0,rt.T)(e)," amount must not be greater than ").concat((0,L.formatEther)(t))}(l,r))),[2,{values:t,errors:{}}];case 3:return d=m.sent(),[2,(0,at.qZ)(d,"WrapForm","amount")];case 4:return[2]}}))}));return function(e,n){return t.apply(this,arguments)}}(),ct=n(36702),lt=(0,l.createContext)(null);lt.displayName="WrapFormDataContext";var dt=function(){var t=(0,l.useContext)(lt);return(0,_.Z)(t,"useWrapFormData was used outside the provider"),t},mt=function(t){var e=t.children,n=q(),a=function(t){var e=t.networkData,n=(0,v.$6)().active,r=e.maxAmountETH,a=e.maxAmountStETH,s=e.stakeLimitInfo,i=(0,l.useMemo)((function(){if((!n||r&&a)&&s)return{active:n,maxAmountETH:r,maxAmountStETH:a,stakeLimitLevel:s.stakeLimitLevel}}),[n,r,a,s]);return(0,X.c)(i).awaiter}({networkData:n}),s=(0,A.cI)({defaultValues:{amount:null,token:C.STETH},context:a,criteriaMode:"firstError",mode:"onChange",resolver:ut}),i=s.watch,o=(0,Z.Z)(i(["token","amount"]),2),d=o[0],h=o[1],f=function(t){var e=t.amount,n=t.token,r=(0,v.$6)(),a=r.active,s=r.account,i=(0,p.e)().chainId,o=(0,l.useMemo)((function(){return[(0,m.DT)(i,m.eT.STETH),(0,m.DT)(i,m.eT.WSTETH)]}),[i]),u=o[0],c=o[1],d=(0,I.y)(e,u,c,s||void 0),h=d.approve,f=d.needsApprove,x=d.allowance,w=d.loading,T=a&&f&&n===C.STETH;return(0,l.useMemo)((function(){return{processApproveTx:h,needsApprove:f,allowance:x,isApprovalLoading:w,isApprovalNeededBeforeWrap:T}}),[x,T,f,w,h])}({amount:null!==h&&void 0!==h?h:ct._Y,token:d}),x=K({approvalData:f,onConfirm:n.revalidateWrapFormData}),w=d===C.STETH,E=(0,T.cF)(h,500),g=(0,T.DE)(null!==E&&void 0!==E?E:ct._Y),j=(0,l.useMemo)((function(){return(0,c.Z)((0,u.Z)({},n,f),{isSteth:w,stakeLimitInfo:n.stakeLimitInfo,maxAmount:w?n.maxAmountStETH:n.maxAmountETH,wrapGasLimit:w?n.gasLimitStETH:n.gasLimitETH,willReceiveWsteth:g,onSubmit:x})}),[n,f,w,g,x]);return(0,r.jsx)(A.RV,(0,c.Z)((0,u.Z)({},s),{children:(0,r.jsx)(lt.Provider,{value:j,children:(0,r.jsx)(tt.F.Provider,{value:j,children:e})})}))},pt=function(){var t=dt(),e=t.allowance,n=t.wrapGasLimit,a=t.willReceiveWsteth,s=t.isApprovalLoading,i=(0,A.Gc)().watch,o=(0,Z.Z)(i(["token"]),1)[0]===C.STETH,u=(0,l.useMemo)((function(){return(0,L.parseEther)("1")}),[]),c=(0,T.DE)(u),m=(0,W.K)(),p=(0,T.w2)(Number(m)),h=(0,T.w2)(n&&Number(n));return(0,r.jsxs)(d.wQF,{"data-testid":"wrapStats",children:[(0,r.jsx)(d.UkV,{title:"Max unlock cost","data-testid":"maxUnlockFee",loading:!p,children:(0,r.jsx)(w.$2,{amount:p})}),(0,r.jsx)(d.UkV,{title:"Max transaction cost","data-testid":"maxGasFee",loading:!h,children:(0,r.jsx)(w.$2,{amount:h})}),(0,r.jsxs)(d.UkV,{title:"Exchange rate","data-testid":"exchangeRate",loading:!c,children:["1 ",o?"stETH":"ETH"," ="," ",(0,r.jsx)(w.o5,{"data-testid":"rate",amount:c,symbol:"wstETH"})]}),(0,r.jsx)(d.UkV,{"data-testid":"allowance",title:"Allowance",loading:s,children:o?(0,r.jsx)(w.o5,{amount:e,symbol:"stETH"}):(0,r.jsx)(r.Fragment,{children:"-"})}),(0,r.jsx)(d.UkV,{title:"You will receive",children:(0,r.jsx)(w.o5,{amount:a,"data-testid":"youWillReceive",symbol:"wstETH",showAmountTip:!0,trimEllipsis:!0})})]})};function ht(){var t=(0,g.Z)(["\n  margin-bottom: ","px;\n"]);return ht=function(){return t},t}function ft(){var t=(0,g.Z)(["\n  gap: ","px;\n  display: flex;\n  flex-direction: column;\n"]);return ft=function(){return t},t}var xt=j.ZP.div.withConfig({componentId:"sc-7b3f772b-0"})(ht(),(function(t){return t.theme.spaceMap.md})),vt=(0,j.ZP)(d.gOu).withConfig({componentId:"sc-7b3f772b-1"})(ft(),(function(t){return t.theme.spaceMap.md})),wt=n(67645),Tt=n(76279),Et=function(){var t=(0,A.Gc)().watch,e=dt(),n=e.allowance,a=e.wstethBalance,s=e.willReceiveWsteth,o=(0,wt.p)(),u=o.dispatchModalState,c=o.onRetry,l=o.isModalOpen,d=o.txHash,m=o.amount,p=o.errorText,h=o.txStage,f=o.txOperation,x=(0,Z.Z)(t(["token"]),1)[0];return(0,r.jsx)(i.$N,{open:l,onClose:function(){return u({type:"close_modal"})},txStage:(0,Tt.x)(h),txOperation:(0,Tt.a)(f),txHash:d,amount:m,amountToken:(0,rt.T)(x),willReceiveAmount:s,willReceiveAmountToken:"wstETH",balance:a,balanceToken:"wstETH",allowanceAmount:n,failedText:p,onRetry:function(){return null===c||void 0===c?void 0:c()}})},gt=n(15834),jt=function(t){var e=t.children,n=(0,A.Gc)(),a=n.reset,s=n.getValues,i=n.formState.defaultValues,o=(0,l.useCallback)((function(){a((0,c.Z)((0,u.Z)({},i),{token:s("token")}))}),[i,s,a]);return(0,r.jsx)(gt.z,{reset:o,children:e})},Ht=n(36305),bt=n(82478),yt=n(6451),kt=[{label:"Lido (stETH)",token:C.STETH},{label:"Ethereum (ETH)",token:C.ETH}],St=function(){return(0,r.jsx)(yt.O,{options:kt,onChange:function(t){bt.L9.apply(void 0,(0,Ht.Z)(t===C.ETH?R.Bi.wrapTokenSelectEth:R.Bi.wrapTokenSelectSteth))}})},Zt=n(24402),Lt=n(66333),At=function(){var t=(0,A.qo)({name:"token"}),e=dt(),n=e.maxAmount,a=e.isApprovalNeededBeforeWrap,s=e.stakeLimitInfo,i=(0,Lt.r)(null===s||void 0===s?void 0:s.stakeLimitLevel).limitWarning;return(0,r.jsx)(Zt.J,{fieldName:"amount",token:t,"data-testid":"wrapInput",isLocked:a,maxValue:n,warning:"ETH"===t?i:null,showErrorMessage:!1})},Ct=n(65418),Wt=function(){var t=dt(),e=t.isMultisig,n=t.isApprovalNeededBeforeWrap;return(0,r.jsx)(Ct.m,{isLocked:n,errorField:"amount","data-testid":"wrapBtn",children:n?"Unlock tokens ".concat(e?"to":"and"," wrap"):"Wrap"})},_t=n(24348),It=n(81335),Ft=function(t){var e=t.matomoEventLink,n=(0,l.useCallback)((function(){return bt.L9.apply(void 0,(0,Ht.Z)(e))}),[e]);return(0,r.jsx)(It.Y,{testidWrap:"L2wstETHbanner",testidButton:"l2WSstethlearnMore",buttonText:"Learn More",onClickButton:n,text:(0,r.jsxs)(r.Fragment,{children:["Enjoy ",(0,r.jsx)("b",{children:"lower gas"})," fees and ",(0,r.jsx)("b",{children:"DeFi opportunities"})," using wstETH across Arbitrum, Optimism, Base, zkSync, Mantle and Linea."]})})},Ut=(0,l.memo)((function(){return(0,r.jsx)(wt.i,{children:(0,r.jsx)(mt,{children:(0,r.jsxs)(vt,{"data-testid":"wrapForm",children:[(0,r.jsxs)(jt,{children:[(0,r.jsxs)(_t.n,{errorField:"amount",children:[(0,r.jsx)(St,{}),(0,r.jsx)(At,{})]}),(0,r.jsx)(Wt,{})]}),(0,r.jsx)(Ft,{matomoEventLink:R.Bi.l2BannerWrap}),(0,r.jsx)(pt,{}),(0,r.jsx)(Et,{})]})})})})),Mt=n(46767),Pt=n(58360),Bt=function(){return(0,r.jsx)(d.UQy,{defaultExpanded:!0,summary:"What is wstETH?",children:(0,r.jsx)("p",{children:"wstETH (wrapped stETH) is a non-rebasing version of stETH, wstETH's price denominated in stETH changes instead. The wstETH balance can only be changed upon transfers, minting, and burning. At any given time, anyone holding wstETH can convert any amount of it to stETH at a fixed rate, and vice versa. Normally, the rate gets updated once a day, when stETH undergoes a rebase."})})},Dt=n(49348),Rt=n(89356),Gt=function(){return(0,r.jsx)(d.UQy,{summary:"How can I get wstETH?",children:(0,r.jsxs)("p",{children:["You can wrap your stETH or ETH tokens using"," ",(0,r.jsx)(Rt.S,{href:o.cM,onClick:function(){return(0,Dt.s)(R.A8.faqHowCanIGetWstethWrapLink)},"aria-hidden":"true",children:"Wrap & Unwrap staking widget"})," ","or"," ",(0,r.jsx)(d.rUS,{href:"https://lido.fi/lido-ecosystem?tokens=wstETH&categories=Get","data-matomo":R.A8.faqHowCanIGetStEthIntegrations,children:"DEX Lido integrations"})]})})},Nt=function(){return(0,r.jsx)(d.UQy,{summary:"How can I use wstETH?",children:(0,r.jsxs)("p",{children:["wstETH is useful across"," ",(0,r.jsx)(d.rUS,{href:"https://lido.fi/lido-ecosystem?networks=arbitrum%2Coptimism","data-matomo":R.A8.faqHowCanIUseWstethL2,children:"L2"})," ","and other"," ",(0,r.jsx)(d.rUS,{href:"https://lido.fi/lido-ecosystem?tokens=wstETH","data-matomo":R.A8.faqHowCanIUseWstethDefiProtocols,children:"DeFi protocols"}),", which are based on constant balance tokens."]})})},$t=function(){return(0,r.jsx)(d.UQy,{summary:"Do I get my staking rewards if I wrap stETH to wstETH?",children:(0,r.jsx)("p",{children:"Yes, wrapped stETH gets staking rewards at the same rate as regular stETH. When you keep your stETH in a wrapper you cannot see your daily staking rewards. However, when you unwrap your wstETH your new stETH balance will have increased relative to pre-wrapped amount to reflect your received rewards."})})},Ot=function(){return(0,r.jsx)(d.UQy,{summary:"Do I need to claim my staking rewards if I wrap stETH to wstETH?",children:(0,r.jsx)("p",{children:"No, staking rewards accrue to wstETH automatically."})})},qt=function(){return(0,r.jsx)(d.UQy,{summary:"How could I unwrap wstETH back to stETH?",children:(0,r.jsxs)("p",{children:["You can unwrap your wstETH tokens using"," ",(0,r.jsx)(Rt.S,{href:o.Wc,onClick:function(){return(0,Dt.s)(R.A8.faqHowDoIUnwrapWstethUnwrapLink)},"aria-hidden":"true",children:"Wrap & Unwrap staking widget"}),"."]})})},Vt=function(){return(0,r.jsx)(d.UQy,{summary:"Do I need to unwrap my wstETH before requesting withdrawals?",children:(0,r.jsxs)("p",{children:["No, you can transform your wstETH to ETH using the"," ",(0,r.jsx)(Rt.S,{href:o.Qk,onClick:function(){return(0,Dt.s)(R.A8.faqDoINeedToUnwrapMyWstethWithdrawalsTabs)},"aria-hidden":"true",children:"Withdrawals Request and Claim tabs"}),". Note that, under the hood, wstETH will unwrap to stETH first, so your request will be denominated in stETH."]})})},Yt=function(){var t=(0,T.gn)();return(0,r.jsxs)(i.$0,{title:"FAQ",onClick:t,children:[(0,r.jsx)(Bt,{}),(0,r.jsx)(Gt,{}),(0,r.jsx)(Nt,{}),(0,r.jsx)($t,{}),(0,r.jsx)(Ot,{}),(0,r.jsx)(qt,{}),(0,r.jsx)(Vt,{})]})},zt=function(t){var e=t.onConfirm,n=(0,v.$6)().account,r=(0,p.e)().providerWeb3,a=(0,z.pX)().dispatchModalState,s=function(){var t=(0,p.e)(),e=t.chainId,n=t.providerWeb3,r=(0,G.k)().staticRpcProvider,a=(0,M.Fk)();return(0,l.useCallback)(function(){var t=(0,F.Z)((function(t){var s,i,o,u,c,l;return(0,U.__generator)(this,(function(d){switch(d.label){case 0:return s=t.isMultisig,i=t.amount,(0,_.Z)(i,"amount id must be presented"),(0,_.Z)(e,"chain id must be presented"),(0,_.Z)(n,"providerWeb3 must be presented"),(0,_.Z)(a,"must have wstethContractWeb3"),s?[4,a.populateTransaction.unwrap(i)]:[3,2];case 1:return o=d.sent(),[2,n.getSigner().sendUncheckedTransaction(o)];case 2:return[4,(0,V.I)(r)];case 3:return u=d.sent(),c=u.maxFeePerGas,l=u.maxPriorityFeePerGas,[2,a.unwrap(i,{maxPriorityFeePerGas:null!==l&&void 0!==l?l:void 0,maxFeePerGas:null!==c&&void 0!==c?c:void 0})];case 4:return[2]}}))}));return function(e){return t.apply(this,arguments)}}(),[e,n,r,a])}();return(0,l.useCallback)(function(){var t=(0,F.Z)((function(t){var i,o,u,c;return(0,U.__generator)(this,(function(l){switch(l.label){case 0:return i=t.amount,(0,_.Z)(i,"amount should be presented"),(0,_.Z)(n,"address should be presented"),(0,_.Z)(r,"provider should be presented"),[4,(0,J.T)(n,r)];case 1:o=l.sent(),l.label=2;case 2:return l.trys.push([2,7,,8]),a({type:"start",operation:z.jL.CONTRACT,token:yt.e.WSTETH,amount:i}),[4,(0,Q.J6)("Unwrap signing",(function(){return s({amount:i,isMultisig:o})}))];case 3:return u=l.sent(),o?(a({type:"success_multisig"}),[2,!0]):"object"!==typeof u?[3,5]:(a({type:"block",txHash:u.hash}),[4,(0,Q.J6)("Unwrap block confirmation",(0,F.Z)((function(){return(0,U.__generator)(this,(function(t){return[2,u.wait()]}))})))]);case 4:l.sent(),l.label=5;case 5:return[4,null===e||void 0===e?void 0:e()];case 6:return l.sent(),a({type:"success"}),[2,!0];case 7:return c=l.sent(),console.warn(c),a({type:"error",errorText:(0,Q.e$)(c)}),[2,!1];case 8:return[2]}}))}));return function(e){return t.apply(this,arguments)}}(),[n,a,e,s,r])},Qt=function(){var t=(0,F.Z)((function(t,e){var n,r,a,s,i;return(0,U.__generator)(this,(function(o){switch(o.label){case 0:n=t.amount,o.label=1;case 1:return o.trys.push([1,3,,4]),(0,_.Z)(e,"validation context must be presented as context promise"),(0,et.m)("amount",n,m.eT.WSTETH),[4,(0,st.H)(e,it.G3)];case 2:return r=o.sent(),a=r.active,s=r.maxAmount,a&&((0,_.Z)(s,"maxAmount must be presented"),(0,nt.k)("amount",n,s,(u=s,"".concat((0,rt.T)(m.eT.WSTETH)," amount must not be greater than ").concat((0,L.formatEther)(u))))),[2,{values:t,errors:{}}];case 3:return i=o.sent(),[2,(0,at.qZ)(i,"UnwrapForm","amount")];case 4:return[2]}var u}))}));return function(e,n){return t.apply(this,arguments)}}(),Jt=(0,l.createContext)(null);Jt.displayName="UnwrapFormDataContext";var Kt=function(){var t=(0,l.useContext)(Jt);return(0,_.Z)(t,"useUnwrapFormData was used outside the provider"),t},Xt=function(t){var e=t.children,n=function(){var t=(0,$.J)().isMultisig,e=(0,f.DS)(y.wd),n=e.data,r=e.update,a=(0,f.b$)(y.wd),s=a.data,i=a.update,o=(0,l.useCallback)((0,F.Z)((function(){return(0,U.__generator)(this,(function(t){switch(t.label){case 0:return[4,Promise.allSettled([r(),i()])];case 1:return t.sent(),[2]}}))})),[r,i]);return(0,l.useMemo)((function(){return{isMultisig:t,stethBalance:n,wstethBalance:s,revalidateUnwrapFormData:o,maxAmount:s}}),[t,n,s,o])}(),a=function(t){var e=t.networkData,n=(0,v.$6)().active,r=e.maxAmount,a=(0,l.useMemo)((function(){if(!n||r)return{active:n,maxAmount:r}}),[n,r]);return(0,X.c)(a).awaiter}({networkData:n}),s=(0,A.cI)({defaultValues:{amount:null},context:a,criteriaMode:"firstError",mode:"onChange",resolver:Qt}),i=s.watch,o=(0,Z.Z)(i(["amount"]),1)[0],d=zt({onConfirm:n.revalidateUnwrapFormData}),m=(0,T.$u)(null!==o&&void 0!==o?o:ct._Y),p=(0,l.useMemo)((function(){return(0,c.Z)((0,u.Z)({},n),{willReceiveStETH:m,onSubmit:d})}),[n,d,m]);return(0,r.jsx)(A.RV,(0,c.Z)((0,u.Z)({},s),{children:(0,r.jsx)(Jt.Provider,{value:p,children:(0,r.jsx)(tt.F.Provider,{value:p,children:e})})}))},te=n(85908),ee=n(89451),ne=function(){var t=function(){var t=(0,M.Z3)(),e=(0,G.k)().chainId,n=(0,P.p)(["swr:unwrap-gas-limit",e],function(){var e=(0,F.Z)((function(e,n){var r;return(0,U.__generator)(this,(function(e){switch(e.label){case 0:if(!n)return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.estimateGas.unwrap(R.eg,{from:R.mA})];case 2:return[2,e.sent()];case 3:return r=e.sent(),console.warn(r),[2,B.O$.from(R.I6)];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),y.wd).data;return null!==n&&void 0!==n?n:R.I6}(),e=(0,T.w2)(Number(t)),n=Kt().willReceiveStETH;return(0,r.jsxs)(d.wQF,{children:[(0,r.jsx)(d.UkV,{title:"Max transaction cost","data-testid":"maxGasFee",loading:!e,children:(0,r.jsx)(w.$2,{amount:e})}),(0,r.jsx)(ee.x,{}),(0,r.jsx)(d.UkV,{title:"You will receive",children:(0,r.jsx)(te.o,{"data-testid":"youWillReceive",amount:n,symbol:"stETH",showAmountTip:!0,trimEllipsis:!0})})]})},re=n(99534),ae=n(97590),se=function(){var t=Kt(),e=t.stethBalance,n=t.willReceiveStETH,a=(0,z.pX)(),s=a.dispatchModalState,o=a.onRetry,u=(0,re.Z)(a,["dispatchModalState","onRetry"]);return(0,r.jsx)(i.$N,{open:u.isModalOpen,onClose:function(){return s({type:"close_modal"})},txStage:(0,Tt.x)(u.txStage),txOperation:ae.jL.UNWRAPPING,txHash:u.txHash,amount:u.amount,amountToken:"wstETH",willReceiveAmount:n,willReceiveAmountToken:"stETH",balance:e,balanceToken:"stETH",failedText:u.errorText,onRetry:function(){return null===o||void 0===o?void 0:o()}})},ie=function(){var t=Kt().maxAmount;return(0,r.jsx)(Zt.J,{fieldName:"amount",token:m.eT.WSTETH,"data-testid":"unwrapInput",maxValue:t,leftDecorator:(0,r.jsx)(d.UFZ,{})})},oe=function(){return(0,r.jsx)(Ct.m,{errorField:"amount","data-testid":"unwrapSubmitBtn",children:"Unwrap"})},ue=(0,l.memo)((function(){return(0,r.jsx)(z.ik,{children:(0,r.jsx)(Xt,{children:(0,r.jsxs)(vt,{"data-testid":"unwrapForm",children:[(0,r.jsxs)(gt.z,{children:[(0,r.jsx)(xt,{children:(0,r.jsx)(ie,{})}),(0,r.jsx)(oe,{})]}),(0,r.jsx)(Ft,{matomoEventLink:R.Bi.l2BannerUnwrap}),(0,r.jsx)(ne,{}),(0,r.jsx)(se,{})]})})})})),ce=n(45430),le=[{name:"Wrap",path:o.cM},{name:"Unwrap",path:o.Wc}],de=function(t){var e="unwrap"===t.mode;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(Pt.Z,{children:[(0,r.jsx)(Mt.r,{checked:e,routes:le}),(0,r.jsx)(ce.f,{}),(0,r.jsx)(S,{}),e?(0,r.jsx)(ue,{}):(0,r.jsx)(Ut,{})]}),(0,r.jsx)(Yt,{})]})},me=n(23512),pe=!0,he=function(t){var e=t.mode,n=(0,me.c)();return(0,r.jsxs)(i.Ar,{title:"Wrap & Unwrap",subtitle:"Stable-balance stETH wrapper for DeFi",children:[(0,r.jsx)(s(),{children:(0,r.jsx)("title",{children:"Wrap | Lido"})}),(0,r.jsx)(de,{mode:e},n)]})}},50528:function(t,e,n){n.d(e,{F:function(){return s},H:function(){return i}});var r=n(82591),a=n(33472),s=(0,a.createContext)(null);s.displayName="FormControllerContext";var i=function(){var t=(0,a.useContext)(s);return(0,r.Z)(t,"useFormControllerContext was used outside the provider"),t}},15834:function(t,e,n){n.d(e,{z:function(){return h}});var r=n(47568),a=n(26042),s=n(69396),i=n(99534),o=n(10092),u=n(58308),c=n(33472),l=n(47650),d=n(87536),m=n(57370),p=n(50528),h=function(t){var e=t.reset,n=t.children,h=(0,i.Z)(t,["reset","children"]),f=(0,l.$6)().active,x=(0,d.Gc)(),v=x.handleSubmit,w=x.reset,T=(0,p.H)().onSubmit,E=(0,m.pX)().dispatchModalState,g=null!==e&&void 0!==e?e:w,j=(0,c.useMemo)((function(){return v(function(){var t=(0,r.Z)((function(t){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return[4,T(t)];case 1:return e.sent()&&g(),[2]}}))}));return function(e){return t.apply(this,arguments)}}())}),[v,T,g]);return(0,c.useEffect)((function(){E({type:"set_on_retry",callback:j})}),[E,j]),(0,c.useEffect)((function(){f||g()}),[f]),(0,u.jsx)("form",(0,s.Z)((0,a.Z)({autoComplete:"off",onSubmit:j},h),{children:n}))}},42962:function(t,e,n){n.d(e,{F:function(){return a.F},z:function(){return r.z}});var r=n(15834),a=n(50528)},63350:function(t,e,n){n.d(e,{B:function(){return s}});var r=n(30633),a=n(56769),s=function(t,e){if(e===r.K.REACHED)throw new a.p8(t,"Staking limit reached. Please wait until it's restored")}},66333:function(t,e,n){n.d(e,{r:function(){return s}});var r=n(47650),a=n(30633),s=function(t){var e=(0,r.$6)().active;return{limitWarning:t===a.K.WARN&&e?"Stake limit is almost exhausted. Your transaction may not go through.":null,limitError:t===a.K.REACHED&&e?"Stake limit is exhausted. Please wait until the limit is restored.":null}}},67568:function(t,e,n){n.d(e,{I:function(){return i}});var r=n(33472),a=n(10318),s=n(36702),i=function(t){var e=t.limit,n=t.balance,i=t.padding,o=t.gasLimit,u=t.isLoading,c=void 0!==u&&u,l=t.isPadded,d=void 0!==l&&l,m=(0,a.y)();return(0,r.useMemo)((function(){if(n&&!c){var t=n;return e&&n.gt(e)&&(t=e),d&&(i&&(t=t.sub(i)),o&&m?(t=t.sub(o.mul(m))).lt(s._Y)&&(t=s._Y):t=void 0),t}}),[n,o,i,c,d,e,m])}}}]);